import{u as q,v as O,x as G,y as o,z as i,A as t,B as n,C as B,D as s,E as D,j as e,Q as M,G as E,H as l,I as p,J as $,K as h,L as w,M as N,_ as H,N as T,O as J,o as V,p as g,P as K,R as W,S as u,f as X,U as Y,F as Z,V as S,W as k,X as d,Y as c,Z as x,r as I,$ as F,m as ee,a0 as te,a1 as A}from"./index.9099b575.js";import{Q as se,a as ae,b as ne,c as oe}from"./QLayout.306f2fa2.js";import{Q as j}from"./QBanner.3d71fdf9.js";import{C as le,h as P}from"./ClosePopup.91b23f5d.js";import{Q as re}from"./QCircularProgress.25493116.js";import{u as ie}from"./usePlayer.48ae88f3.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";const ue={style:{"font-size":"0.9rem","font-family":"NanumSquare","font-weight":"700"}},de={class:"column items-center justify-center q-gutter-y-sm q-my-sm",style:{width:"200px"}},ce={class:"row justify-center q-gutter-x-sm"},_e={key:0,class:"row justify-center text-caption"},fe={class:"row justify-center"},pe={class:"row justify-center"},me={class:"row no-wrap justify-center"},ve={__name:"nameCard",setup(C){const r=q(),_=O(),{fnUserInfo:a}=G(),f=async()=>{_.dialog({component:H,componentProps:{icon:"warning",iconColor:"yellow-8",title:"\uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).onOk(async()=>{try{T.disconnect(),p.value=null,localStorage.removeItem("token"),r.push("/login")}catch(v){console.error(v)}})},Q=async()=>{try{_.loading.show();const v=await J.get("/files/manual",{responseType:"blob"}),b=window.URL.createObjectURL(new Blob([v.data])),m=document.createElement("a");m.href=b,m.setAttribute("download","\uD55C\uC218\uC6D0_\uC5C5\uBB34\uBC29\uC1A1_\uBA54\uB274\uC5BC.pdf"),m.click(),m.remove()}catch(v){console.error(v)}finally{_.loading.hide()}};return(v,b)=>(o(),i(w,{unelevated:"",round:"",size:"12px",color:"primary"},{default:t(()=>[n("div",ue,B(s(D)()),1),e(M,{style:{"border-radius":"8px",padding:"10px 10px"},offset:[10,20]},{default:t(()=>[n("div",de,[n("div",ce,[e(E,{color:"primary",textColor:"white",size:"64px"},{default:t(()=>[l(B(s(D)()),1)]),_:1})]),n("div",null,B(s(p).email),1),s(p).isAdmin?(o(),$("div",_e," \uAD00\uB9AC\uC790 ")):h("",!0),n("div",fe,[e(w,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"blue-grey-7",label:"\uC0AC\uC6A9\uC790 \uC815\uBCF4",onClick:b[0]||(b[0]=m=>s(a)(s(p)))})]),n("div",pe,[e(w,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"green-7",label:"\uBA54\uB274\uC5BC",onClick:Q})]),e(N,{class:"q-my-sm"}),n("div",me,[e(w,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"red-10",label:"\uB85C\uADF8\uC544\uC6C3",onClick:f})])])]),_:1})]),_:1}))}};const ye={class:"q-pa-lg",style:{position:"relative"}},we={class:"row no-wrap justify-start items-center q-gutter-x-md"},ge={class:"text-bold",style:{"font-size":"1rem"}},ke={__name:"AudioPlayer",setup(C){const{fnInitAudioPlayer:r,audioPlayer:_,modal:a,previewFile:f,playStatus:Q,playTime:v,fnFF:b,fnFR:m}=ie();return V(()=>{r()}),(L,y)=>(o(),$(Z,null,[n("audio",{ref_key:"audioPlayer",ref:_},null,512),e(Y,{modelValue:s(a),"onUpdate:modelValue":y[3]||(y[3]=z=>X(a)?a.value=z:null),seamless:"",position:"bottom"},{default:t(()=>[n("div",ye,[g(e(w,{style:{position:"absolute",top:"20px",right:"15px","z-index":"2"},round:"",size:"xs",icon:"close",color:"red-10",onClick:y[0]||(y[0]=z=>s(_).pause())},null,512),[[le]]),e(K,{class:"player"},{default:t(()=>[e(W,{class:"row no-wrap justify-between"},{default:t(()=>{var z;return[n("div",we,[e(re,{"show-value":"",value:(z=s(v))!=null?z:100,size:"30px",thickness:.2,color:"primary","center-color":"white","track-color":"transparent"},{default:t(()=>[e(u,{name:"play_arrow",color:"primary",size:"sm"})]),_:1},8,["value"]),n("div",ge,B(s(f).name),1)]),n("div",null,[e(w,{flat:"",round:"",icon:"fast_rewind",color:"grey",onClick:s(m)},null,8,["onClick"]),s(Q)?(o(),i(w,{key:0,flat:"",round:"",icon:"pause",color:"yellow-8",onClick:y[1]||(y[1]=U=>s(_).pause())})):(o(),i(w,{key:1,flat:"",round:"",icon:"play_arrow",color:"primary",onClick:y[2]||(y[2]=U=>s(_).play())})),e(w,{flat:"",round:"",icon:"fast_forward",color:"grey",onClick:s(b)},null,8,["onClick"])])]}),_:1})]),_:1})])]),_:1},8,["modelValue"])],64))}};var xe=R(ke,[["__scopeId","data-v-5c1bdf58"]]);const be={class:"btn row no-wrap items-center"},he=n("div",null,"\uBC29\uC1A1",-1),$e={__name:"BroadcastMenu",setup(C){const r=q();return(_,a)=>(o(),$("div",null,[n("div",be,[he,e(u,{name:"keyboard_arrow_down"}),e(M,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(S,null,{default:t(()=>[g((o(),i(k,{clickable:"",onClick:a[0]||(a[0]=f=>s(r).push("/broadcast/livepage"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"mic",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l("\uC2E4\uC2DC\uAC04 \uBC29\uC1A1")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uBC14\uB85C \uBC29\uC1A1\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]]),g((o(),i(k,{clickable:"",onClick:a[1]||(a[1]=f=>s(r).push("/broadcast/schedulepage"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"schedule",color:"green-10"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l("\uC608\uC57D \uBC29\uC1A1")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uBC29\uC1A1\uC744 \uC608\uC57D\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]]),g((o(),i(k,{clickable:"",onClick:a[2]||(a[2]=f=>s(r).push("/broadcast/files"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"folder_open",color:"yellow-9"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l("\uD30C\uC77C \uAD00\uB9AC")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uBC29\uC1A1\uC5D0 \uC0AC\uC6A9\uD560 \uD30C\uC77C\uC744 \uAD00\uB9AC\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]])]),_:1})]),_:1})])]))}},Ce={class:"btn row no-wrap items-center"},Qe=n("div",null,"\uC7A5\uCE58\uAD00\uB9AC",-1),qe={__name:"DeviceMenu",setup(C){const r=q();return(_,a)=>(o(),$("div",null,[n("div",Ce,[Qe,e(u,{name:"keyboard_arrow_down"}),e(M,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(S,null,{default:t(()=>[g((o(),i(k,{clickable:"",onClick:a[0]||(a[0]=f=>s(r).push("/devices/qsys"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"img:qsys.svg",size:"sm"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l("\uC5C5\uBB34\uBC29\uC1A1\uC8FC\uC7A5\uCE58")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uB514\uBC14\uC774\uC2A4 \uB4F1\uB85D & \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]]),g((o(),i(k,{clickable:"",onClick:a[1]||(a[1]=f=>s(r).push("/devices/barix"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"img:barix.svg",size:"xs"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l(" \uB124\uD2B8\uC6CC\uD06C \uC624\uB514\uC624 \uC218\uC2E0\uAE30 ")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uB514\uBC14\uC774\uC2A4 \uB4F1\uB85D & \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]])]),_:1})]),_:1})])]))}},ze={class:"btn row no-wrap items-center"},Ae=n("div",null,"\uAD00\uB9AC\uC790",-1),Be={__name:"AdminMenu",setup(C){const r=q();return(_,a)=>(o(),$("div",null,[n("div",ze,[Ae,e(u,{name:"keyboard_arrow_down"}),e(M,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(S,null,{default:t(()=>[g((o(),i(k,{clickable:"",onClick:a[0]||(a[0]=f=>s(r).push("/admin/users"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"group",color:"primary"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l("\uC0AC\uC6A9\uC790 \uAD00\uB9AC")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uC0AC\uC6A9\uC790 \uAD8C\uD55C\uC744 \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[x]]),g((o(),i(k,{clickable:"",onClick:a[1]||(a[1]=f=>s(r).push("/admin/serversetup"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"dns",color:"lime-8"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l(" \uC11C\uBC84 \uC124\uC815 ")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uC11C\uBC84 \uC0C1\uC138 \uC124\uC815")]),_:1})]),_:1})]),_:1})),[[x]]),g((o(),i(k,{clickable:"",onClick:a[2]||(a[2]=f=>s(r).push("/admin/systemlog"))},{default:t(()=>[e(d,{avatar:""},{default:t(()=>[e(u,{name:"list_alt",color:"green-9"})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"menu-font"},{default:t(()=>[l(" \uC2DC\uC2A4\uD15C \uB85C\uADF8 ")]),_:1}),e(c,{caption:""},{default:t(()=>[l("\uC2DC\uC2A4\uD15C \uB85C\uADF8 \uD655\uC778")]),_:1})]),_:1})]),_:1})),[[x]])]),_:1})]),_:1})])]))}};const Me={class:"row no-wrap items-center q-gutter-x-lg"},Ie={__name:"MenuBar",setup(C){const r=q();return(_,a)=>(o(),$("div",Me,[n("div",{class:"btn cursor-pointer",onClick:a[0]||(a[0]=f=>s(r).push("/status"))},"\uBC29\uC1A1\uC0C1\uD0DC"),s(p)?(o(),i($e,{key:0})):h("",!0),n("div",{class:"btn cursor-pointer",onClick:a[1]||(a[1]=f=>s(r).push("/broadcast/eventlog"))}," \uBC29\uC1A1\uAE30\uB85D "),s(p)&&s(p).isAdmin?(o(),i(qe,{key:1})):h("",!0),s(p)&&s(p).isAdmin?(o(),i(Be,{key:2})):h("",!0)]))}};var je=R(Ie,[["__scopeId","data-v-046e0f0e"]]);const Pe={class:"full-height row no-wrap justify-between items-center"},Se=n("div",{class:"logo_text"},"\uC5C5\uBB34\uBC29\uC1A1",-1),Le={class:"bg-white text-black q-px-lg q-pb-md"},De={class:"row justify-end items-center q-gutter-x-sm q-px-sm"},Fe=n("div",null,"\uD55C\uAD6D\uC218\uB825\uC6D0\uC790\uB825 \uC5C5\uBB34\uBC29\uC1A1",-1),He={__name:"MainLayout",setup(C){const r=q();let _=null;const a=I(!1),f=I(!1),Q=I(!1),v=()=>{_=setInterval(async()=>{await F(),a.value=P().diff(A.scheduler.main,"minutes")>5,P().diff(A.scheduler.backup,"minutes")>5,Q.value=P().diff(A.barix,"minutes")>5,console.log("check devices")},1e3*60*5)};return V(async()=>{v(),await F()}),ee(()=>{clearInterval(_)}),(b,m)=>{const L=te("router-view");return o(),i(oe,{view:"lHh Lpr lFf"},{default:t(()=>[e(se,{class:"header"},{default:t(()=>[n("div",Pe,[n("div",{class:"row no-wrap items-center q-gutter-x-md cursor-pointer",onClick:m[0]||(m[0]=y=>s(r).push("/"))},[e(u,{name:"img:logoMain.svg",size:"3rem"}),Se]),e(je),n("div",null,[s(p)&&s(p).email?(o(),i(ve,{key:0})):(o(),$("div",{key:1,class:"login-btn",onClick:m[1]||(m[1]=y=>s(r).push("/auth/signin"))},[e(u,{name:"account_circle"}),l(" LOGIN ")]))])])]),_:1}),e(ae,null,{default:t(()=>[n("div",Le,[e(N),n("div",De,[e(u,{name:"img:logoMain.svg",size:"1.5rem"}),Fe])])]),_:1}),e(ne,null,{default:t(()=>[s(p).isAdmin&&s(A).qsysConnected?(o(),i(j,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:t(()=>[e(u,{name:"warning",size:"sm"}),l(" \uC5C5\uBB34 \uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC811\uC18D\uC774 \uB04A\uACBC\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694. ")]),_:1})):h("",!0),s(p).isAdmin&&Q.value?(o(),i(j,{key:1,"inline-actions":"",class:"text-white bg-red"},{default:t(()=>[e(u,{name:"warning",size:"sm"}),l(" \uB124\uD2B8\uC6CC\uD06C \uC804\uC1A1\uC7A5\uCE58 \uC0C1\uD0DC\uAC00 \uAC31\uC2E0 \uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694. ")]),_:1})):h("",!0),s(p).isAdmin&&(a.value||f.value)?(o(),i(j,{key:2,"inline-actions":"",class:"text-white bg-orange"},{default:t(()=>[e(u,{name:"warning",size:"sm"}),l(" \uC2A4\uCF00\uC904\uB7EC\uAC00 \uBAA8\uB450 \uB3D9\uC791\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uAD00\uB9AC\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC138\uC694. ")]),_:1})):h("",!0),e(L),e(xe)]),_:1})]),_:1})}}};export{He as default};

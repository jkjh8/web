import{aD as y,k as R,y as q,z as w,A as l,j as e,N as $,O as x,B as m,R as b,C as r,D as u,aN as p,aE as B,K as k,P as z,aQ as A,o as U,S as Y,U as c,V as f,W as d,G as n,b2 as H,r as P,v as S}from"./index.34791908.js";import{Q as M,r as g,a as N}from"./useRules.89130d2e.js";import"./DialogConfirm.43a421bc.js";import{u as O}from"./useNotify.1456a39c.js";function Q(a=16){const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";let o="";for(let _=0;_<a;_++)o+=v[parseInt(Math.random()*v.length)];return o}const K={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},E={class:"q-px-sm q-gutter-y-xs"},de={__name:"addDevice",props:["title","type"],emits:[...y.emits],setup(a,{emit:v}){const o=a,{dialogRef:_,onDialogCancel:I,onDialogHide:h,onDialogOK:C}=y(),i=R({name:"",deviceId:Q(12),ipaddress:""}),D=async V=>{try{return(await A.get(`/devices/${o.type}/exists`,{params:{value:V}})).data.result?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return(V,t)=>(q(),w(z,{ref_key:"dialogRef",ref:_,onHide:u(h)},{default:l(()=>[e($,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:l(()=>[e(x,null,{default:l(()=>[m("div",K,[e(b,{name:"add_circle",color:"primary",size:"sm"}),m("div",null,r(a.title),1)])]),_:1}),e(M,{onSubmit:t[4]||(t[4]=s=>u(C)(i))},{default:l(()=>[e(x,null,{default:l(()=>[m("div",E,[e(p,{modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=s=>i.name=s),filled:"",dense:"",label:"\uC774\uB984",rules:[u(g)],"lazy-rules":""},null,8,["modelValue","rules"]),e(p,{modelValue:i.deviceId,"onUpdate:modelValue":t[2]||(t[2]=s=>i.deviceId=s),filled:"",dense:"",label:"Device ID",rules:[u(g),s=>D({deviceId:s})],"lazy-rules":""},{append:l(()=>[e(b,{class:"cursor-pointer",name:"refresh",color:"primary",onClick:t[1]||(t[1]=s=>i.deviceId=u(Q)(12))})]),_:1},8,["modelValue","rules"]),e(p,{modelValue:i.ipaddress,"onUpdate:modelValue":t[3]||(t[3]=s=>i.ipaddress=s),filled:"",dense:"",label:"IP Address",rules:[u(g),u(N),s=>D({ipaddress:s})],"lazy-rules":""},null,8,["modelValue","rules"])])]),_:1}),e(B,{align:"right"},{default:l(()=>[e(k,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:u(I)},null,8,["onClick"]),e(k,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},F={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},G=m("div",{class:"text-caption"},"DeviceID\uB294 \uC218\uC815\uC544 \uC548\uB429\uB2C8\uB2E4.",-1),L={class:"q-px-sm q-gutter-y-xs"},ne={__name:"editDevice",props:["title","type","device"],emits:[...y.emits],setup(a,{emit:v}){const o=a,{dialogRef:_,onDialogCancel:I,onDialogHide:h,onDialogOK:C}=y(),i=R({_id:"",deviceId:"",name:"",deviceId:Q(12),ipaddress:""}),D=async V=>{try{const t=await A.get(`/devices/${o.type}/exists`,{params:{value:V}});return t.data&&t.data.result&&t.data.result._id!==o.device._id?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return U(()=>{i._id=o.device._id,i.deviceId=o.device.deviceId,i.name=o.device.name,i.ipaddress=o.device.ipaddress,i.deviceId=o.device.deviceId}),(V,t)=>(q(),w(z,{ref_key:"dialogRef",ref:_,onHide:u(h)},{default:l(()=>[e($,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:l(()=>[e(x,null,{default:l(()=>[m("div",F,[e(b,{name:"edit",color:"primary",size:"sm"}),m("div",null,[m("div",null,r(a.title),1),G])])]),_:1}),e(M,{onSubmit:t[3]||(t[3]=s=>u(C)(i))},{default:l(()=>[e(x,null,{default:l(()=>[m("div",L,[e(p,{modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=s=>i.name=s),filled:"",dense:"",label:"\uC774\uB984",rules:[u(g)],"lazy-rules":""},null,8,["modelValue","rules"]),e(p,{modelValue:i.deviceId,"onUpdate:modelValue":t[1]||(t[1]=s=>i.deviceId=s),disable:"",filled:"",dense:"",label:"Device ID",rules:[u(g),s=>D({deviceId:s})],"lazy-rules":""},null,8,["modelValue","rules"]),e(p,{modelValue:i.ipaddress,"onUpdate:modelValue":t[2]||(t[2]=s=>i.ipaddress=s),filled:"",dense:"",label:"IP Address",rules:[u(g),u(N),s=>D({ipaddress:s})],"lazy-rules":""},null,8,["modelValue","rules"])])]),_:1}),e(B,{align:"right"},{default:l(()=>[e(k,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:u(I)},null,8,["onClick"]),e(k,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},j=m("div",{class:"dialog-name"},"BARIX INFO",-1),T={class:"caption font-sans"},W={class:"q-px-md"},X=["href"],J={__name:"infoBarix",props:["device"],emits:[...y.emits],setup(a,{emit:v}){const{dialogRef:o,onDialogHide:_,onDialogOK:I,onDialogCancel:h}=y();return(C,i)=>(q(),w(z,{ref_key:"dialogRef",ref:o,onHide:u(_)},{default:l(()=>[e($,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:l(()=>[e(x,{class:"row no-wrap q-gutter-sm items-center"},{default:l(()=>[e(b,{style:{"margin-top":"10px"},name:"img:barix.svg",size:"1.5rem"}),m("div",null,[j,m("div",T,r(a.device.deviceId),1)])]),_:1}),e(x,null,{default:l(()=>[m("div",W,[e(Y,{dense:""},{default:l(()=>[e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uC7A5\uCE58 \uC774\uB984")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.name),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("IP Address")]),_:1}),e(d,{caption:""},{default:l(()=>[m("a",{href:`http://${a.device.ipaddress}`,target:"_blank"},[n(r(a.device.ipaddress)+" ",1),e(b,{class:"cursor-pointer",name:"launch",color:"primary"})],8,X)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("Net Mask")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.netmask),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uAC8C\uC774\uB4DC\uC6E8\uC774")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.gateway),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uC6B0\uC120\uC21C\uC704")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.idx),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uCC44\uB110")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.channels),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uBBF8\uB514\uC5B4 \uD3EC\uBA67")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.mediaformat),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uC2A4\uD2B8\uB9BC \uC8FC\uC18C")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.streamurl),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uB3D9\uC791\uC2DC\uAC04")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.uptime),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uC74C\uB7C9")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.volume),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uB9B4\uB808\uC774 \uB3D9\uC791")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(a.device.relay1),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uB9C8\uC9C0\uB9C9 \uC5C5\uB370\uC774\uD2B8")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(u(H).formatDate(a.device.updatedAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:l(()=>[e(f,null,{default:l(()=>[e(d,null,{default:l(()=>[n("\uC7A5\uCE58 \uB4F1\uB85D \uC2DC\uAC04")]),_:1}),e(d,{caption:""},{default:l(()=>[n(r(u(H).formatDate(a.device.createdAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),e(B,{align:"right"},{default:l(()=>[e(k,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:u(I)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Z=P([]),ie=async()=>{try{const a=await A.get("/devices/barix");a.data&&a.data.devices&&(Z.value=a.data.devices)}catch(a){console.error(a)}},se=()=>{const a=S();return O(),{fnBarixInfo:o=>{a.dialog({component:J,componentProps:{device:o}})}}};export{de as _,ne as a,Z as b,ie as f,se as u};

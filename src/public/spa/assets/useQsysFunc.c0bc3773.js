import{aD as u,r as C,o as Q,y as h,z as k,A as t,j as n,N as w,O as g,B as l,R as x,C as f,aN as D,aE as I,K as _,D as m,P as N,v as q,aQ as y}from"./index.221aab42.js";import{_ as B}from"./DialogConfirm.c6b7f481.js";const $={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},V={class:"text-caption"},O={class:"q-px-sm q-gutter-y-xs"},P={__name:"editSingleName",props:["title","caption","name"],emits:[...u.emits],setup(e,{emit:v}){const c=e,{dialogRef:a,onDialogCancel:o,onDialogHide:r,onDialogOK:d}=u(),s=C("");return Q(()=>{c.name&&(s.value=c.name)}),(b,i)=>(h(),k(N,{ref_key:"dialogRef",ref:a,onHide:m(r)},{default:t(()=>[n(w,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:t(()=>[n(g,null,{default:t(()=>[l("div",$,[n(x,{name:"add_circle",color:"primary",size:"sm"}),l("div",null,f(e.title),1)]),l("div",V,f(e.caption),1)]),_:1}),n(g,null,{default:t(()=>[l("div",O,[n(D,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=p=>s.value=p),filled:"",dense:"",label:"\uC774\uB984"},null,8,["modelValue"])])]),_:1}),n(I,{align:"right"},{default:t(()=>[n(_,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:m(o)},null,8,["onClick"]),n(_,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:i[1]||(i[1]=p=>m(d)(s.value))})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},R=()=>{const e=q();return{fnBroadcastCancel:a=>{e.dialog({component:B,componentProps:{title:"\uBC29\uC1A1 \uCDE8\uC18C",icon:"cancel",iconColor:"red-10",caption:`${a.name} \uC9C0\uC5ED \uBC29\uC1A1\uC744 \uCDE8\uC18C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`}}).onOk(async()=>{try{e.loading.show(),await y.get("/devices/qsys/cancel",{params:{device:{name:a.name,deviceId:a.deviceId,ipaddress:a.ipaddress,pageId:a.pageId}}}),e.loading.hide()}catch(o){console.error(o)}})},fnEditZoneName:(a,o)=>{e.dialog({component:P,componentProps:{title:"\uC9C0\uC5ED \uC774\uB984 \uBCC0\uACBD",caption:`${a.name} \uC9C0\uC5ED\uC758 ${o.name} \uC9C0\uC5ED \uC774\uB984\uC744 \uBCC0\uACBD\uD569\uB2C8\uB2E4.`,name:o.name}}).onOk(async r=>{try{e.loading.show(),await y.put("/devices/qsys/modifiedzonename",{deviceId:a.deviceId,zone:o.Zone,name:r})}catch(d){console.error(d),e.notify({type:"negative",icon:"warning",message:"\uC9C0\uC5ED \uC774\uB984 \uBCC0\uACBD\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",capion:"\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694.",position:"top"})}finally{e.loading.hide()}})}}};export{P as _,R as u};

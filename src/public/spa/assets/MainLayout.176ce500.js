import{u as M,v as z,x as B,y as D,z as E,A as K,o as R,B as F,C as j,D as r,E as g,G as c,j as s,H as o,I as t,Q as m,J as y,K as d,p as v,L as q,M as w,N as h,O as C,P as A,R as H,S as O,U as T,f as U,V as G,W as J,X as W,Y as X,Z as Y,_ as Z}from"./index.0b79a79b.js";import{Q as k}from"./QMenu.6c53ffba.js";import{Q as ee,a as te,b as oe}from"./QLayout.e682e791.js";import{Q as se}from"./QLinearProgress.3d79d0c0.js";import{Q as ne}from"./QSpace.2849927f.js";import{_ as re}from"./dialogConfirm.6f422389.js";import{u as ie}from"./usePlayer.60094173.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dialog-plugin-component.8a73145c.js";function Q(n){if(n===!1)return 0;if(n===!0||n===void 0)return 1;const u=parseInt(n,10);return isNaN(u)?0:u}var _=M({name:"close-popup",beforeMount(n,{value:u}){const p={depth:Q(u),handler(f){p.depth!==0&&setTimeout(()=>{const x=z(n);x!==void 0&&B(x,f,p.depth)})},handlerKey(f){D(f,13)===!0&&p.handler(f)}};n.__qclosepopup=p,n.addEventListener("click",p.handler),n.addEventListener("keyup",p.handlerKey)},updated(n,{value:u,oldValue:p}){u!==p&&(n.__qclosepopup.depth=Q(u))},beforeUnmount(n){const u=n.__qclosepopup;n.removeEventListener("click",u.handler),n.removeEventListener("keyup",u.handlerKey),delete n.__qclosepopup}});const a=n=>(Y("data-v-56b3119c"),n=n(),Z(),n),le={class:"full-height row no-wrap justify-between items-center"},de=a(()=>o("div",{class:"logo_text"},"\uD55C\uAD6D\uC218\uB825\uC6D0\uC790\uB825 \uC5C5\uBB34\uBC29\uC1A1",-1)),pe={class:"row no-wrap items-center q-gutter-x-sm"},ue={key:0,class:"btn cursor-pointer"},ce=a(()=>o("span",null,"\uBC29\uC1A1",-1)),me=a(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),ve=a(()=>o("div",null,"\uB77C\uC774\uBE0C \uBC29\uC1A1",-1)),_e=a(()=>o("div",null,"\uC608\uC57D \uBC29\uC1A1",-1)),fe=a(()=>o("div",null,"\uBC29\uC1A1 \uC124\uC815",-1)),ye=a(()=>o("div",null,"\uD30C\uC77C \uAD00\uB9AC",-1)),we=a(()=>o("div",null,"\uC774\uBCA4\uD2B8 \uB85C\uADF8",-1)),xe={key:1,class:"btn cursor-pointer"},ge=a(()=>o("span",null,"\uC7A5\uCE58\uAD00\uB9AC",-1)),he=a(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),ke=a(()=>o("div",null,"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58",-1)),qe=a(()=>o("div",null,"\uB124\uD2B8\uC6CC\uD06C \uC218\uC2E0\uAE30",-1)),be={key:2,class:"btn cursor-pointer"},Ce=a(()=>o("span",null,"\uAD00\uB9AC\uC790",-1)),Qe=a(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),$e=a(()=>o("div",null,"\uC0AC\uC6A9\uC790 \uAD00\uB9AC",-1)),Le=a(()=>o("div",null,"\uC11C\uBC84 \uC124\uC815",-1)),Pe=a(()=>o("div",null,"\uC2DC\uC2A4\uD15C \uB85C\uADF8",-1)),Se={style:{"font-size":"0.9rem","padding-top":"2px","font-family":"RotoSansKR","font-weight":"bold"}},Ie={class:"q-pt-md q-gutter-y-sm"},Ne={class:"row justify-center q-gutter-x-sm"},Ve={class:"q-mt-lg q-px-lg"},Me={class:"row no-wrap justify-center"},ze={__name:"MainLayout",setup(n){const{fnInitAudioPlayer:u,audioPlayer:p,modal:f,previewFile:x,playStatus:$,playTime:L,fnFF:P,fnFR:S}=ie(),l=E(),I=K(),N=async()=>{I.dialog({component:re,componentProps:{icon:"warning",iconColor:"yellow-8",title:"\uC0AC\uC6A9\uC790 \uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).onOk(async()=>{try{W.disconnect(),await X.get("/auth/signout"),y.value=null,l.push("/")}catch(b){console.error(b)}})};return R(()=>{u(),F()}),(b,e)=>{const V=j("router-view");return r(),g(ee,{view:"lHh Lpr lFf"},{default:c(()=>[s(te,{class:"header","height-hint":"3rem"},{default:c(()=>[o("div",le,[o("div",{class:"row no-wrap items-center q-gutter-x-sm cursor-pointer",onClick:e[0]||(e[0]=i=>t(l).push("/"))},[s(m,{name:"home",size:"1.5rem",color:"primary"}),de]),o("div",pe,[o("div",{class:"btn cursor-pointer",onClick:e[1]||(e[1]=i=>t(l).push("/status"))},"\uBC29\uC1A1\uC0C1\uD0DC"),t(y)?(r(),d("div",ue,[ce,me,s(k,{style:{width:"130px"},offset:[20,10]},{default:c(()=>[v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[2]||(e[2]=i=>t(l).push("/broadcast/livepage"))},[s(m,{name:"mic",color:"primary"}),ve])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[3]||(e[3]=i=>t(l).push("/broadcast/schedulepage"))},[s(m,{name:"schedule",color:"primary"}),_e])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[4]||(e[4]=i=>t(l).push("/broadcast/zonesetup"))},[s(m,{name:"edit",color:"primary"}),fe])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[5]||(e[5]=i=>t(l).push("/broadcast/files"))},[s(m,{name:"folder_open",color:"primary"}),ye])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[6]||(e[6]=i=>t(l).push("/broadcast/eventlog"))},[s(m,{name:"list_alt",color:"primary"}),we])),[[_]])]),_:1})])):q("",!0),t(y)?(r(),d("div",xe,[ge,he,s(k,{style:{width:"150px"},offset:[20,10]},{default:c(()=>[v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[7]||(e[7]=i=>t(l).push("/devices/qsys"))},[s(m,{name:"img:qsys.svg",color:"primary"}),ke])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[8]||(e[8]=i=>t(l).push("/devices/barix"))},[s(m,{name:"img:barix.svg",color:"primary"}),qe])),[[_]])]),_:1})])):q("",!0),t(y)&&t(y).isAdmin?(r(),d("div",be,[Ce,Qe,s(k,{style:{width:"130px"},offset:[20,10]},{default:c(()=>[v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[9]||(e[9]=i=>t(l).push("/admin/users"))},[s(m,{name:"group",color:"primary"}),$e])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[10]||(e[10]=i=>t(l).push("/admin/serversetup"))},[s(m,{name:"dns",color:"primary"}),Le])),[[_]]),v((r(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[11]||(e[11]=i=>t(l).push("/admin/systemlog"))},[s(m,{name:"list_alt",color:"primary"}),Pe])),[[_]])]),_:1})])):q("",!0),o("div",null,[t(y)&&t(y).email?(r(),g(w,{key:0,unelevated:"",round:"",size:"xs",color:"primary"},{default:c(()=>[o("div",Se,h(t(C)()),1),s(k,{style:{"border-radius":"8px",padding:"10px 20px"},offset:[10,20]},{default:c(()=>[o("div",Ie,[o("div",Ne,[s(A,{color:"primary",textColor:"white",size:"64px"},{default:c(()=>[H(h(t(C)()),1)]),_:1})]),o("div",Ve,h(t(y).email),1),s(O,{class:"q-my-md"}),o("div",Me,[s(w,{rounded:"",unelevated:"","no-caps":"",color:"red-10",label:"\uB85C\uADF8\uC544\uC6C3",onClick:N})])])]),_:1})]),_:1})):(r(),d("div",{key:1,class:"btn-login",onClick:e[12]||(e[12]=i=>t(l).push("/auth/signin"))},"Login"))])])])]),_:1}),s(oe,null,{default:c(()=>[s(V),o("audio",{ref_key:"audioPlayer",ref:p},null,512),s(T,{modelValue:t(f),"onUpdate:modelValue":e[16]||(e[16]=i=>U(f)?f.value=i:null),seamless:"",position:"bottom"},{default:c(()=>[s(G,{style:{width:"400px"}},{default:c(()=>[s(se,{value:t(L),color:"primary"},null,8,["value"]),s(J,{class:"row no-wrap items-center"},{default:c(()=>[o("div",null,[o("div",null,h(t(x).name),1)]),s(ne),s(w,{flat:"",round:"",icon:"fast_rewind",color:"grey",onClick:t(S)},null,8,["onClick"]),t($)?(r(),g(w,{key:0,flat:"",round:"",icon:"pause",color:"yellow-8",onClick:e[13]||(e[13]=i=>t(p).pause())})):(r(),g(w,{key:1,flat:"",round:"",icon:"play_arrow",color:"primary",onClick:e[14]||(e[14]=i=>t(p).play())})),s(w,{flat:"",round:"",icon:"fast_forward",color:"grey",onClick:t(P)},null,8,["onClick"]),v(s(w,{flat:"",round:"",icon:"close",onClick:e[15]||(e[15]=i=>t(p).pause())},null,512),[[_]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};var Oe=ae(ze,[["__scopeId","data-v-56b3119c"]]);export{Oe as default};

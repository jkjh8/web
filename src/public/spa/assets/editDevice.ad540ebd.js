import{aT as g,k as C,y as i,z as u,A as n,j as d,P as U,R as b,B as m,S as D,C as z,D as s,aY as o,bf as c,co as w,K as f,aZ as Q,L as x,U as P,O as $,o as S}from"./index.40f7776e.js";import{Q as R}from"./QForm.bbc2dfe6.js";function q(r=16){const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";let t="";for(let y=0;y<r;y++)t+=V[parseInt(Math.random()*V.length)];return t}const B={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},A={class:"q-px-sm q-gutter-y-xs"},E={__name:"addDevice",props:["title","type"],emits:[...g.emits],setup(r,{emit:V}){const t=r,{dialogRef:y,onDialogCancel:I,onDialogOK:k}=g(),a=C({name:"",deviceId:q(12),ipaddress:"",port:3030,amx:"",channels:0}),p=async v=>{try{return(await $.get(`/devices/${t.type}/exists`,{params:{value:v}})).data.result?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return(v,e)=>(i(),u(P,{ref_key:"dialogRef",ref:y},{default:n(()=>[d(U,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:n(()=>[d(b,null,{default:n(()=>[m("div",B,[d(D,{name:"add_circle",color:"primary",size:"sm"}),m("div",null,z(r.title),1)])]),_:1}),d(R,{onSubmit:e[7]||(e[7]=l=>s(k)(a))},{default:n(()=>[d(b,null,{default:n(()=>[m("div",A,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[2]||(e[2]=l=>a.deviceId=l),filled:"",dense:"",label:"Device ID",rules:[s(c),l=>p({deviceId:l})],"lazy-rules":""},{append:n(()=>[d(D,{class:"cursor-pointer",name:"refresh",color:"primary",onClick:e[1]||(e[1]=l=>a.deviceId=s(q)(12))})]),_:1},8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[3]||(e[3]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[s(c),s(w),l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),r.type==="barix"?(i(),u(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[4]||(e[4]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),r.type==="qsys"?(i(),u(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[5]||(e[5]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),r.type==="qsys"?(i(),u(o,{key:2,modelValue:a.channels,"onUpdate:modelValue":e[6]||(e[6]=l=>a.channels=l),filled:"",dense:"",type:"number",label:"\uBC29\uC1A1\uCC44\uB110"},null,8,["modelValue"])):f("",!0)])]),_:1}),d(Q,{align:"right"},{default:n(()=>[d(x,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(I)},null,8,["onClick"]),d(x,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}},_={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},K=m("div",{class:"text-caption"},"DeviceID\uB294 \uC218\uC815\uC774 \uC548\uB429\uB2C8\uB2E4.",-1),M={class:"q-px-sm q-gutter-y-xs"},Z={__name:"editDevice",props:["title","type","device"],emits:[...g.emits],setup(r,{emit:V}){const t=r,{dialogRef:y,onDialogCancel:I,onDialogOK:k}=g(),a=C({_id:"",deviceId:"",name:"",deviceId:q(12),ipaddress:"",port:0,amx:"",channels:0}),p=async v=>{try{const e=await $.get(`/devices/${t.type}/exists`,{params:{value:v}});return e.data&&e.data.result&&e.data.result._id!==t.device._id?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return S(()=>{a._id=t.device._id,a.deviceId=t.device.deviceId,a.name=t.device.name,a.ipaddress=t.device.ipaddress,a.deviceId=t.device.deviceId,a.amx=t.device.amx,a.port=t.device.port,a.channels=t.device.ZoneStatus.length}),(v,e)=>(i(),u(P,{ref_key:"dialogRef",ref:y},{default:n(()=>[d(U,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:n(()=>[d(b,null,{default:n(()=>[m("div",_,[d(D,{name:"edit",color:"primary",size:"sm"}),m("div",null,[m("div",null,z(r.title),1),K])])]),_:1}),d(R,{onSubmit:e[6]||(e[6]=l=>s(k)(a))},{default:n(()=>[d(b,null,{default:n(()=>[m("div",M,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[1]||(e[1]=l=>a.deviceId=l),disable:"",filled:"",dense:"",label:"Device ID",rules:[s(c),l=>p({deviceId:l})],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[2]||(e[2]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[s(c),s(w),l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),r.type==="barix"?(i(),u(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[3]||(e[3]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),r.type==="qsys"?(i(),u(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[4]||(e[4]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),r.type==="qsys"?(i(),u(o,{key:2,modelValue:a.channels,"onUpdate:modelValue":e[5]||(e[5]=l=>a.channels=l),filled:"",dense:"",type:"number",label:"\uBC29\uC1A1\uCC44\uB110"},null,8,["modelValue"])):f("",!0)])]),_:1}),d(Q,{align:"right"},{default:n(()=>[d(x,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(I)},null,8,["onClick"]),d(x,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}};export{E as _,Z as a};

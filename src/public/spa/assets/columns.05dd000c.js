import{aD as v,k as x,y as k,z as C,A as i,j as l,N as q,O as g,B as r,R as b,C as w,D as s,aO as u,aE as z,K as y,P as Q,aR as R,o as H}from"./index.5a2a2326.js";import{Q as U,r as c,e as $}from"./useRules.37201bff.js";function V(n=16){const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";let t="";for(let o=0;o<n;o++)t+=f[parseInt(Math.random()*f.length)];return t}const P={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},A={class:"q-px-sm q-gutter-y-xs"},K={__name:"addDevice",props:["title","type"],emits:[...v.emits],setup(n,{emit:f}){const t=n,{dialogRef:o,onDialogCancel:_,onDialogHide:I,onDialogOK:D}=v(),d=x({name:"",deviceId:V(12),ipaddress:""}),m=async p=>{try{return(await R.get(`/devices/${t.type}/exists`,{params:{value:p}})).data.result?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return(p,e)=>(k(),C(Q,{ref_key:"dialogRef",ref:o,onHide:s(I)},{default:i(()=>[l(q,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:i(()=>[l(g,null,{default:i(()=>[r("div",P,[l(b,{name:"add_circle",color:"primary",size:"sm"}),r("div",null,w(n.title),1)])]),_:1}),l(U,{onSubmit:e[4]||(e[4]=a=>s(D)(d))},{default:i(()=>[l(g,null,{default:i(()=>[r("div",A,[l(u,{modelValue:d.name,"onUpdate:modelValue":e[0]||(e[0]=a=>d.name=a),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),l(u,{modelValue:d.deviceId,"onUpdate:modelValue":e[2]||(e[2]=a=>d.deviceId=a),filled:"",dense:"",label:"Device ID",rules:[s(c),a=>m({deviceId:a})],"lazy-rules":""},{append:i(()=>[l(b,{class:"cursor-pointer",name:"refresh",color:"primary",onClick:e[1]||(e[1]=a=>d.deviceId=s(V)(12))})]),_:1},8,["modelValue","rules"]),l(u,{modelValue:d.ipaddress,"onUpdate:modelValue":e[3]||(e[3]=a=>d.ipaddress=a),filled:"",dense:"",label:"IP Address",rules:[s(c),s($),a=>m({ipaddress:a})],"lazy-rules":""},null,8,["modelValue","rules"])])]),_:1}),l(z,{align:"right"},{default:i(()=>[l(y,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(_)},null,8,["onClick"]),l(y,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},B={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},N=r("div",{class:"text-caption"},"DeviceID\uB294 \uC218\uC815\uC544 \uC548\uB429\uB2C8\uB2E4.",-1),O={class:"q-px-sm q-gutter-y-xs"},M={__name:"editDevice",props:["title","type","device"],emits:[...v.emits],setup(n,{emit:f}){const t=n,{dialogRef:o,onDialogCancel:_,onDialogHide:I,onDialogOK:D}=v(),d=x({_id:"",deviceId:"",name:"",deviceId:V(12),ipaddress:""}),m=async p=>{try{const e=await R.get(`/devices/${t.type}/exists`,{params:{value:p}});return e.data&&e.data.result&&e.data.result._id!==t.device._id?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return H(()=>{d._id=t.device._id,d.deviceId=t.device.deviceId,d.name=t.device.name,d.ipaddress=t.device.ipaddress,d.deviceId=t.device.deviceId}),(p,e)=>(k(),C(Q,{ref_key:"dialogRef",ref:o,onHide:s(I)},{default:i(()=>[l(q,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:i(()=>[l(g,null,{default:i(()=>[r("div",B,[l(b,{name:"edit",color:"primary",size:"sm"}),r("div",null,[r("div",null,w(n.title),1),N])])]),_:1}),l(U,{onSubmit:e[3]||(e[3]=a=>s(D)(d))},{default:i(()=>[l(g,null,{default:i(()=>[r("div",O,[l(u,{modelValue:d.name,"onUpdate:modelValue":e[0]||(e[0]=a=>d.name=a),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),l(u,{modelValue:d.deviceId,"onUpdate:modelValue":e[1]||(e[1]=a=>d.deviceId=a),disable:"",filled:"",dense:"",label:"Device ID",rules:[s(c),a=>m({deviceId:a})],"lazy-rules":""},null,8,["modelValue","rules"]),l(u,{modelValue:d.ipaddress,"onUpdate:modelValue":e[2]||(e[2]=a=>d.ipaddress=a),filled:"",dense:"",label:"IP Address",rules:[s(c),s($),a=>m({ipaddress:a})],"lazy-rules":""},null,8,["modelValue","rules"])])]),_:1}),l(z,{align:"right"},{default:i(()=>[l(y,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(_)},null,8,["onClick"]),l(y,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},F=[{name:"name",label:"Name",align:"center",field:"name",sortable:!0},{name:"deviceId",label:"Device ID",align:"center",field:"deviceId",sortable:!0},{name:"ipaddress",label:"IP Address",align:"center",field:"ipaddress",sortable:!0},{name:"actions",label:"FN",align:"center"}];export{K as _,M as a,F as c};

import{aS as g,k as C,y as i,z as u,A as r,j as d,O as z,P as b,B as m,R as D,C as U,be as w,D as s,aX as o,bf as c,cm as Q,K as f,aY as P,L as x,S,N as $,o as R}from"./index.3535e791.js";function q(n=16){const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";let t="";for(let y=0;y<n;y++)t+=V[parseInt(Math.random()*V.length)];return t}const B={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},A={class:"q-px-sm q-gutter-y-xs"},O={__name:"addDevice",props:["title","type"],emits:[...g.emits],setup(n,{emit:V}){const t=n,{dialogRef:y,onDialogCancel:I,onDialogOK:k}=g(),a=C({name:"",deviceId:q(12),ipaddress:"",port:3030,amx:"",channels:0}),p=async v=>{try{return(await $.get(`/devices/${t.type}/exists`,{params:{value:v}})).data.result?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return(v,e)=>(i(),u(S,{ref_key:"dialogRef",ref:y},{default:r(()=>[d(z,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:r(()=>[d(b,null,{default:r(()=>[m("div",B,[d(D,{name:"add_circle",color:"primary",size:"sm"}),m("div",null,U(n.title),1)])]),_:1}),d(w,{onSubmit:e[7]||(e[7]=l=>s(k)(a))},{default:r(()=>[d(b,null,{default:r(()=>[m("div",A,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[2]||(e[2]=l=>a.deviceId=l),filled:"",dense:"",label:"Device ID",rules:[s(c),l=>p({deviceId:l})],"lazy-rules":""},{append:r(()=>[d(D,{class:"cursor-pointer",name:"refresh",color:"primary",onClick:e[1]||(e[1]=l=>a.deviceId=s(q)(12))})]),_:1},8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[3]||(e[3]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[s(c),s(Q),l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),n.type==="barix"?(i(),u(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[4]||(e[4]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),n.type==="qsys"?(i(),u(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[5]||(e[5]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),n.type==="qsys"?(i(),u(o,{key:2,modelValue:a.channels,"onUpdate:modelValue":e[6]||(e[6]=l=>a.channels=l),filled:"",dense:"",type:"number",label:"\uBC29\uC1A1\uCC44\uB110"},null,8,["modelValue"])):f("",!0)])]),_:1}),d(P,{align:"right"},{default:r(()=>[d(x,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(I)},null,8,["onClick"]),d(x,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}},N={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},_=m("div",{class:"text-caption"},"DeviceID\uB294 \uC218\uC815\uC774 \uC548\uB429\uB2C8\uB2E4.",-1),K={class:"q-px-sm q-gutter-y-xs"},E={__name:"editDevice",props:["title","type","device"],emits:[...g.emits],setup(n,{emit:V}){const t=n,{dialogRef:y,onDialogCancel:I,onDialogOK:k}=g(),a=C({_id:"",deviceId:"",name:"",deviceId:q(12),ipaddress:"",port:0,amx:"",channels:0}),p=async v=>{try{const e=await $.get(`/devices/${t.type}/exists`,{params:{value:v}});return e.data&&e.data.result&&e.data.result._id!==t.device._id?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return R(()=>{a._id=t.device._id,a.deviceId=t.device.deviceId,a.name=t.device.name,a.ipaddress=t.device.ipaddress,a.deviceId=t.device.deviceId,a.amx=t.device.amx,a.port=t.device.port,a.channels=t.device.ZoneStatus.length}),(v,e)=>(i(),u(S,{ref_key:"dialogRef",ref:y},{default:r(()=>[d(z,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:r(()=>[d(b,null,{default:r(()=>[m("div",N,[d(D,{name:"edit",color:"primary",size:"sm"}),m("div",null,[m("div",null,U(n.title),1),_])])]),_:1}),d(w,{onSubmit:e[6]||(e[6]=l=>s(k)(a))},{default:r(()=>[d(b,null,{default:r(()=>[m("div",K,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[1]||(e[1]=l=>a.deviceId=l),disable:"",filled:"",dense:"",label:"Device ID",rules:[s(c),l=>p({deviceId:l})],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[2]||(e[2]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[s(c),s(Q),l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),n.type==="barix"?(i(),u(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[3]||(e[3]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[s(c)],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),n.type==="qsys"?(i(),u(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[4]||(e[4]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>p({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):f("",!0),n.type==="qsys"?(i(),u(o,{key:2,modelValue:a.channels,"onUpdate:modelValue":e[5]||(e[5]=l=>a.channels=l),filled:"",dense:"",type:"number",label:"\uBC29\uC1A1\uCC44\uB110"},null,8,["modelValue"])):f("",!0)])]),_:1}),d(P,{align:"right"},{default:r(()=>[d(x,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:s(I)},null,8,["onClick"]),d(x,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}};export{O as _,E as a};

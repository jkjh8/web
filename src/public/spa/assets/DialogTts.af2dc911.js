import{aF as $,k as B,c as te,b as Y,aO as oe,b0 as x,C as v,D as z,E as a,j as e,S as P,U as q,G as c,V as C,H as S,M as Q,F as se,a_ as ne,I as o,Z as O,bp as R,_ as G,K as w,bZ as ie,aX as de,aG as E,O as V,W as M,bw as j,r as K,N as L,bt as re,A as ce,o as ue,f as T,aR as H,aY as me,aZ as fe}from"./index.7d6e6e9a.js";import{Q as J,b as N,a as F}from"./QTable.369673be.js";import{Q as pe}from"./QExpansionItem.5e78b032.js";import{f as _e,a as ve,Q as ge,b as Z,c as W}from"./useFiles.3d1b0dce.js";import{Q as X}from"./QTr.84b6fb99.js";import{u as ee}from"./usePlayer.fadb6c4d.js";import{Q as ye}from"./QSelect.227126e2.js";import{Q as we}from"./QTooltip.ba2e3f59.js";import{u as he}from"./useTts.d43da63b.js";import{u as ke}from"./useNotify.7298a91a.js";import{_ as be}from"./plugin-vue_export-helper.21dcd24c.js";const xe={class:"row no-wrap items-center q-gutter-x-md"},Ve=c("div",{class:"dialog-name"},"\uBC29\uC1A1\uAD6C\uAC04\uC120\uD0DD",-1),Ce={class:"dialog-caption"},Se={class:"q-pa-sm"},Qe={class:"q-px-sm"},Ye={__name:"DialogSelectBrocastZones",props:["selected"],emits:[...$.emits],setup(p,{emit:I}){const{dialogRef:_,onDialogCancel:h,onDialogOK:y}=$(),g=p,i=B({}),r=B([]),k=te(()=>{let t=0;for(let s in i)t+=i[s].length;return t}),D=(t,s)=>{t?i[s.deviceId]=[...s.ZoneStatus]:i[s.deviceId]=[]},u=(t,s,n)=>{t&&t.length?t.length===s.ZoneStatus.length?r[n]=!0:r[n]=null:r[n]=!1},l=()=>{let t=[];for(let s in i)if(i[s].length){const n=x.value.findIndex(m=>m.deviceId===s);t.push({deviceId:s,name:x.value[n].name,ipaddress:x.value[n].ipaddress,amx:x.value[n].amx,value:i[s]})}y(t)};return Y(async()=>{await oe();for(let t=0;t<x.value.length;t++){let{deviceId:s}=x.value[t],n=g.selected.findIndex(m=>m.deviceId===s);n!==-1?(i[s]=[...g.selected[n].value],i[s].length===x.value[t].ZoneStatus.length?r[t]=!0:r[t]=null):(i[s]=[],r[t]=!1)}}),(t,s)=>(v(),z(M,{ref_key:"dialogRef",ref:_,persistent:""},{default:a(()=>[e(P,{style:{"max-width":"900px",width:"80%","min-width":"500px","border-radius":"6px"}},{default:a(()=>[e(q,null,{default:a(()=>[c("div",xe,[e(C,{name:"location_on",color:"primary",size:"1.5rem"}),c("div",null,[Ve,c("div",Ce,S(k.value)+"\uAC1C \uBC29\uC1A1\uAD6C\uAC04 \uC120\uD0DD ",1)])])]),_:1}),e(q,null,{default:a(()=>[(v(!0),Q(se,null,ne(o(x),(n,m)=>(v(),Q("div",{key:m,class:"q-px-md"},[e(pe,{class:"q-pa-xs col-xs-6 col-sm-3 col-md-2 bg-grey-1"},{header:a(()=>[e(O,{avatar:""},{default:a(()=>[e(R,{modelValue:r[m],"onUpdate:modelValue":[d=>r[m]=d,d=>D(d,n,m)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(O,null,{default:a(()=>[e(G,null,{default:a(()=>[w(S(n.name),1)]),_:2},1024),e(G,{caption:""},{default:a(()=>[w(S(n.ipaddress),1)]),_:2},1024)]),_:2},1024)]),default:a(()=>[e(J,{rows:n.ZoneStatus,columns:[],"row-key":"Zone",selection:"multiple",selected:i[n.deviceId],"onUpdate:selected":[d=>i[n.deviceId]=d,d=>u(d,n,m)],grid:"",pagination:{rowsPerPage:0},"hide-header":"","hide-bottom":""},{item:a(d=>[c("div",{class:"q-pa-xs col-xs-6 col-sm-3 col-md-2 grid-style-transition",style:ie(d.selected?"transform: scale(0.95);":"")},[c("div",{class:de(["border",d.selected?t.$q.dark.isActive?"bg-grey-10":"bg-grey-3":""])},[c("div",Se,[e(R,{dense:"",modelValue:d.selected,"onUpdate:modelValue":U=>d.selected=U,label:d.row.name?`${d.row.Zone}. ${d.row.name}`:`${d.row.Zone}. No Name`},null,8,["modelValue","onUpdate:modelValue","label"])])],2)],4)]),_:2},1032,["rows","selected","onUpdate:selected"])]),_:2},1024)]))),128))]),_:1}),e(E,{align:"right"},{default:a(()=>[c("div",Qe,[e(V,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:o(h)},null,8,["onClick"]),e(V,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:l})])]),_:1})]),_:1})]),_:1},512))}},Je=p=>{let I=[];for(let _ of p){let h=j.value.findIndex(y=>y.deviceId===_.deviceId);if(h!==-1){const{ZoneStatus:y,name:g}=j.value[h];if(_.value&&_.value.length)if(_.value.length===y.length)I.push(`${g} - ALL`);else{let i=_.value.map(r=>r.name||r.Zone);I.push(`${g} - ${i.join(", ")}`)}}}return I},Ie={class:"row no-wrap items-center q-gutter-x-md"},$e=c("div",null,[c("div",{class:"dialog-name"},"\uD30C\uC77C\uC120\uD0DD")],-1),qe={key:0},De=["onClick"],Ue={key:2},el={__name:"DialogSelectFile",props:["file"],emits:[...$.emits],setup(p,{emit:I}){const{dialogRef:_,onDialogCancel:h,onDialogOK:y}=$(),g=p,{fnPlayStart:i}=ee(),r=K(25),k=K([]);return Y(async()=>{await _e(),g.file&&(k.value[0]=g.file)}),(D,u)=>(v(),z(M,{ref_key:"dialogRef",ref:_,persistent:""},{default:a(()=>[e(P,{class:"q-dialog-plugin",style:{"border-radius":"8px",width:"90%","max-width":"800px"}},{default:a(()=>[e(q,null,{default:a(()=>[c("div",Ie,[e(C,{name:"save",color:"primary",size:"1.5rem"}),$e])]),_:1}),e(q,null,{default:a(()=>[e(ve,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=l=>r.value=l)},{before:a(()=>[e(ge,{nodes:o(Z).folders,selected:o(Z).selectedFolder,"onUpdate:selected":[u[0]||(u[0]=l=>o(Z).selectedFolder=l),o(W)],"node-key":"path","no-selection-unset":"","selected-color":"primary"},null,8,["nodes","selected","onUpdate:selected"])]),after:a(()=>[e(J,{columns:[{name:"name",label:"NAME",field:"name",align:"left",sortable:!0},{name:"size",label:"SIZE",field:"size",sortable:!0}],rows:o(Z).files,flat:"","row-key":"name",selection:"single",selected:k.value,"onUpdate:selected":u[1]||(u[1]=l=>k.value=l),pagination:{rowsPerPage:0},"hide-bottom":""},{header:a(l=>[e(X,{props:l},{default:a(()=>[e(N,{style:{width:"2rem"}}),e(N,{key:"name",props:l},{default:a(()=>[w(" NAME ")]),_:2},1032,["props"]),e(N,{key:"size",props:l,style:{width:"2.5rem"}},{default:a(()=>[w(" SIZE ")]),_:2},1032,["props"])]),_:2},1032,["props"])]),body:a(l=>[e(X,{props:l},{default:a(()=>[e(F,null,{default:a(()=>[l.row.type!=="folder"?(v(),z(R,{key:0,modelValue:l.selected,"onUpdate:modelValue":t=>l.selected=t},null,8,["modelValue","onUpdate:modelValue"])):L("",!0)]),_:2},1024),e(F,{key:"name",props:l},{default:a(()=>[l.row.type==="folder"?(v(),Q("span",qe,[e(C,{name:"folder_open",color:"primary",size:"sm"})])):L("",!0),l.row.type==="folder"?(v(),Q("span",{key:1,class:"q-ml-xs cursor-pointer",onClick:t=>o(W)(l.row.fullpath)},S(l.row.name),9,De)):(v(),Q("span",Ue,[w(S(l.row.name)+" ",1),e(V,{flat:"",round:"",color:"primary",icon:"play_arrow",onClick:t=>o(i)(l.row)},null,8,["onClick"])]))]),_:2},1032,["props"]),e(F,{key:"size",props:l,style:{width:"2.5rem"}},{default:a(()=>[w(S(l.row.type!=="folder"?o(re).humanStorageSize(l.row.size):""),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","selected"])]),_:1},8,["modelValue"])]),_:1}),e(E,{align:"right"},{default:a(()=>[e(V,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:o(h)},null,8,["onClick"]),e(V,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:u[3]||(u[3]=l=>o(y)(k.value))})]),_:1})]),_:1})]),_:1},512))}};const Ze=p=>(me("data-v-211ebdc6"),p=p(),fe(),p),ze={class:"row no-wrap items-center q-gutter-x-md"},Te=Ze(()=>c("div",{class:"card-name"},"\uBA54\uC2DC\uC9C0",-1)),Ne={class:"q-gutter-y-sm"},Fe={class:"row justify-between q-px-sm"},Re={key:0,class:"row no-wrap justify-between items-center q-gutter-x-sm"},Pe={key:1,class:"text-red-10 row items-center"},Ee={__name:"DialogTts",props:["file"],emits:[...$.emits],setup(p,{emit:I}){const{dialogRef:_,onDialogCancel:h,onDialogOK:y}=$(),{fnPlayStart:g,modal:i}=ee(),{fnGetVoices:r,fnGetDefaultVoice:k,fnMakeTts:D,fnDeleteFile:u,currentFile:l,voices:t,voice:s,ttsRate:n,ttsText:m}=he(),{fnNotiError:d}=ke(),U=p,A=ce(),le=async()=>{i.value=!1,l.value&&await u(l.value),await D()};return ue(async()=>{try{A.loading.show(),await r(),await k(),U.file&&await u(U.file)}catch{d("TTS \uC870\uD68C \uC624\uB958","\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.")}finally{A.loading.hide()}}),(ae,f)=>(v(),z(M,{ref_key:"dialogRef",ref:_,persistent:""},{default:a(()=>[e(P,{class:"q-dialog-plugin bg-trans"},{default:a(()=>[e(q,null,{default:a(()=>[c("div",ze,[e(C,{name:"volume_up",color:"primary",size:"sm"}),Te])]),_:1}),e(q,null,{default:a(()=>[c("div",Ne,[e(ye,{options:o(t),modelValue:o(s),"onUpdate:modelValue":f[0]||(f[0]=b=>T(s)?s.value=b:null),"map-options":"","emit-value":"","option-value":"id","option-label":"name",filled:"",dense:"",label:"\uC74C\uC131"},null,8,["options","modelValue"]),e(H,{modelValue:o(n),"onUpdate:modelValue":f[1]||(f[1]=b=>T(n)?n.value=b:null),type:"number",filled:"",dense:"",label:"\uC74C\uC131\uC18D\uB3C4"},null,8,["modelValue"]),e(H,{modelValue:o(m),"onUpdate:modelValue":f[2]||(f[2]=b=>T(m)?m.value=b:null),filled:"",type:"textarea",placeholder:"\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD558\uC138\uC694.",label:"\uBA54\uC2DC\uC9C0"},null,8,["modelValue"]),c("div",Fe,[o(l)?(v(),Q("div",Re,[c("div",null,[e(C,{class:"cursor-pointer",name:"play_arrow",color:"primary",size:"sm",onClick:f[3]||(f[3]=b=>o(g)(o(l)))}),w(" "+S(o(l).base),1)]),e(C,{class:"cursor-pointer q-mr-sm",name:"cancel",color:"red-10",size:"sm",onClick:f[4]||(f[4]=b=>o(u)(o(l)))})])):(v(),Q("div",Pe,[e(C,{name:"warning"}),w(" \uD569\uC131\uB41C \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4. ")])),e(V,{round:"",unelevated:"",color:"primary",icon:"mic",size:"sm",onClick:le},{default:a(()=>[e(we,null,{default:a(()=>[w("\uC74C\uC131\uD569\uC131")]),_:1})]),_:1})])])]),_:1}),e(E,{align:"right"},{default:a(()=>[e(V,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:o(h)},null,8,["onClick"]),e(V,{disable:!o(l),round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:f[5]||(f[5]=b=>o(y)(o(l)))},null,8,["disable"])]),_:1})]),_:1})]),_:1},512))}};var ll=be(Ee,[["__scopeId","data-v-211ebdc6"]]);export{ll as D,Ye as _,el as a,Je as f};

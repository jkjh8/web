import{aB as q,u as C,v as P,x as a,j as e,K as A,L as D,R as y,y as i,z as c,a$ as N,aH as u,aK as f,aL as n,C as t,A as m,b0 as z,aC as Y,I as g,M as B,r as E,o as H,E as V,F as O,aT as L,aM as M,aG as R,aP as k,br as T,J as x}from"./index.01937250.js";import{Q}from"./QTooltip.ded1ba0a.js";import{Q as Z}from"./QBadge.1a6bbf24.js";import{Q as F,a as I}from"./QTable.16097e4d.js";import{Q as K}from"./QPage.36d72cf3.js";import{c as U}from"./columns.1bbc92fa.js";import{_ as j}from"./dialogConfirm.73a5d41e.js";import{u as G,_ as J,a as W}from"./useNotify.78b33e35.js";import{Q as X}from"./useRules.734a1e91.js";import"./QMenu.850075a6.js";import"./QSelect.313a862b.js";import"./QLinearProgress.702526ef.js";const ee=i("div",{class:"dialog-name"},"Q-SYS INFO",-1),ae={class:"caption font-sans"},te={class:"q-px-md"},le=["href"],oe={__name:"infoQsys",props:["device"],emits:[...q.emits],setup(d,{emit:o}){const{dialogRef:_,onDialogHide:p,onDialogOK:h,onDialogCancel:$}=q();return(b,v)=>(C(),P(B,{ref_key:"dialogRef",ref:_,onHide:m(p)},{default:a(()=>[e(A,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:a(()=>[e(D,{class:"row no-wrap q-gutter-sm items-center"},{default:a(()=>[e(y,{style:{"margin-top":"10px"},name:"img:qsys.svg",size:"1.5rem"}),i("div",null,[ee,i("div",ae,c(d.device.deviceId),1)])]),_:1}),e(D,null,{default:a(()=>[i("div",te,[e(N,{dense:""},{default:a(()=>[e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uC7A5\uCE58 \uC774\uB984")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.name),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("IP Address")]),_:1}),e(n,{caption:""},{default:a(()=>[i("a",{href:`http://${d.device.ipaddress}`,target:"_blank"},[t(c(d.device.ipaddress)+" ",1),e(y,{class:"cursor-pointer",name:"launch",color:"primary"})],8,le)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uC6B0\uC120\uC21C\uC704")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.idx),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uC5F0\uACB0 \uC0C1\uD0DC")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.connected),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uCF54\uC5B4 \uD50C\uB7AB\uD3FC")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.EngineStatus.Platform),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uCF54\uC5B4 \uC0C1\uD0DC")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.EngineStatus.State),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("PA \uC2E4\uC2DC\uAC04 \uB370\uC774\uD130 \uC5F0\uB3D9")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(d.device.ZoneStatusConfigure),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uB9C8\uC9C0\uB9C9 \uC5C5\uB370\uC774\uD2B8")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(m(z).formatDate(d.device.updatedAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1}),e(u,{dense:""},{default:a(()=>[e(f,null,{default:a(()=>[e(n,null,{default:a(()=>[t("\uC7A5\uCE58 \uB4F1\uB85D \uC2DC\uAC04")]),_:1}),e(n,{caption:""},{default:a(()=>[t(c(m(z).formatDate(d.device.createdAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),e(Y,{align:"right"},{default:a(()=>[e(g,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:m(h)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ne={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},se=i("div",null,"\uBC29\uC1A1\uAD6C\uAC04\uC774\uB984 \uC218\uC815",-1),ie={class:"text-caption"},de={__name:"editNames",props:["device"],emits:[...q.emits],setup(d,{emit:o}){const _=d,{dialogRef:p,onDialogCancel:h,onDialogHide:$,onDialogOK:b}=q(),v=E([]);return H(()=>{v.value=[..._.device.ZoneStatus]}),(S,s)=>(C(),P(B,{ref_key:"dialogRef",ref:p,onHide:m($)},{default:a(()=>[e(A,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:a(()=>[e(D,null,{default:a(()=>[i("div",ne,[e(y,{name:"add_circle",color:"primary",size:"sm"}),i("div",null,[se,i("div",ie,c(d.device.name)+" "+c(d.device.ipaddress),1)])])]),_:1}),e(X,{onSubmit:s[0]||(s[0]=r=>m(b)(v.value))},{default:a(()=>[e(D,null,{default:a(()=>[(C(!0),V(O,null,L(v.value,(r,l)=>(C(),V("div",{key:l},[e(M,{filled:"",modelValue:r.name,"onUpdate:modelValue":w=>r.name=w,class:"q-mt-sm",label:`\uCC44\uB110 ${r.Zone}`},null,8,["modelValue","onUpdate:modelValue","label"])]))),128))]),_:1}),e(Y,{align:"right"},{default:a(()=>[e(g,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:m(h)},null,8,["onClick"]),e(g,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ce={class:"borderd"},re={class:"q-px-lg row no-wrap justify-between items-center bg-grey-2"},ue={class:"row no-wrap items-center q-gutter-x-sm"},fe=i("div",{class:"font-main",style:{"font-size":"16px","font-weight":"bold"}}," \uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 ",-1),me=["href"],xe={__name:"QsysPage",setup(d){const o=R(),{fnNotiError:_}=G(),p=E(""),h=()=>{o.dialog({component:J,componentProps:{title:"\uC5C5\uBB34\uBC29\uC1A1\uC8FC\uC7A5\uCE58 \uCD94\uAC00",type:"qsys"}}).onOk(async s=>{try{o.loading.show(),await x.post("/devices/qsys",{...s})}catch{_({message:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uCD94\uAC00 \uC624\uB958",caption:"\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."})}finally{await k(),o.loading.hide()}})},$=s=>{o.dialog({component:oe,componentProps:{device:s}})},b=s=>{o.dialog({component:W,componentProps:{title:"\uC5C5\uBB34\uBC29\uC1A1\uC8FC\uC7A5\uCE58 \uC218\uC815",type:"qsys",device:s}}).onOk(async r=>{try{o.loading.show(),await x.put("/devices/qsys/edit",{...r})}catch{_({message:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC218\uC815 \uC624\uB958",caption:"\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."})}finally{k(),o.loading.hide()}})},v=s=>{o.dialog({component:de,componentProps:{device:s}}).onOk(async r=>{try{o.loading.show(),await x.put("/devices/qsys/updatenames",{deviceId:s.deviceId,arr:r})}catch{_({message:"\uBC29\uC1A1\uAD6C\uAC04 \uC218\uC815 \uC624\uB958",caption:"\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."})}finally{k(),o.loading.hide()}})},S=s=>{o.dialog({component:j,componentProps:{icon:"delete",iconColor:"red-10",title:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC0AD\uC81C",message:`${s.name} ${s.ipaddress}`}}).onOk(async()=>{try{o.loading.show(),await x.delete("/devices/qsys",{data:{...s}}),o.loading.hide()}catch{_({message:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC0AD\uC81C \uC624\uB958",caption:"\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."})}finally{await k(),o.loading.hide()}})};return H(async()=>{try{o.loading.show(),await k()}catch{}finally{o.loading.hide()}}),(s,r)=>(C(),P(K,{padding:""},{default:a(()=>[i("div",ce,[i("div",re,[i("div",ue,[e(y,{name:"img:qsys.svg",color:"primary",size:"20px"}),fe,i("div",null,[e(y,{class:"cursor-pointer",name:"add_circle",size:"xs",color:"primary",onClick:h},{default:a(()=>[e(Q,null,{default:a(()=>[t("\uC7A5\uCE58 \uCD94\uAC00")]),_:1})]),_:1})])]),e(M,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=l=>p.value=l),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:a(()=>[e(y,{class:"cursor-pointer",name:"search"})]),_:1},8,["modelValue"])]),e(F,{columns:m(U),rows:m(T),filter:p.value},{"body-cell-name":a(l=>[e(I,{props:l},{default:a(()=>[i("div",null,[e(Z,{rounded:"",color:l.row.connected?"primary":"red-10"},null,8,["color"]),t(" "+c(l.value),1)])]),_:2},1032,["props"])]),"body-cell-ipaddress":a(l=>[e(I,{props:l},{default:a(()=>[i("a",{href:`http://${l.value}`,target:"_blank"},c(l.value),9,me)]),_:2},1032,["props"])]),"body-cell-actions":a(l=>[e(I,{props:l},{default:a(()=>[i("div",null,[e(g,{round:"",flat:"",color:"primary",icon:"info",size:"sm",onClick:w=>$(l.row)},{default:a(()=>[e(Q,null,{default:a(()=>[t("\uC0C1\uC138\uC815\uBCF4")]),_:1})]),_:2},1032,["onClick"]),e(g,{round:"",flat:"",color:"primary",icon:"edit",size:"sm",onClick:w=>b(l.row)},{default:a(()=>[e(Q,null,{default:a(()=>[t("\uC218\uC815")]),_:1})]),_:2},1032,["onClick"]),e(g,{round:"",flat:"",color:"blue",icon:"edit_note",size:"sm",onClick:w=>v(l.row)},{default:a(()=>[e(Q,null,{default:a(()=>[t("\uBC29\uC1A1\uAD6C\uAC04\uC218\uC815")]),_:1})]),_:2},1032,["onClick"]),e(g,{round:"",flat:"",color:"red-10",icon:"delete",size:"sm",onClick:w=>S(l.row)},{default:a(()=>[e(Q,null,{default:a(()=>[t("\uC0AD\uC81C")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["columns","rows","filter"])])]),_:1}))}};export{xe as default};

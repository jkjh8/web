import{z as $,A,B as a,D as _,O as P,j as e,R as Q,Q as p,C as c,J as n,M as l,aF as Y,I as b,P as z,v as M,r as N,o as q,aJ as V,U as D,S as O}from"./index.186a5e78.js";import{Q as k}from"./QTooltip.ee8f3b31.js";import{Q as S}from"./QBadge.b1ae3087.js";import{c as R,Q as v,a as T}from"./QTable.6632cdbf.js";import{Q as F}from"./QPage.5ab107d5.js";import{f as h,b as H}from"./useBarix.42c53ed4.js";import{_ as j}from"./addDevice.b8482c9f.js";import{_ as J}from"./dialogConfirm.4f381559.js";import{a as i,b as s,c as t}from"./QSelect.eefc60fe.js";import{d as C}from"./date.50ddbce3.js";import{u as I}from"./use-dialog-plugin-component.830234ac.js";import"./QMenu.129770ed.js";import"./QLinearProgress.2dc8b4cd.js";import"./useRules.8fed1a9e.js";import"./format.cbf00d5d.js";const L=c("div",{class:"dialog-name"},"BARIX INFO",-1),U={class:"caption font-sans"},G={class:"q-px-md"},K={__name:"infoBarix",props:["device"],emits:[...I.emits],setup(d,{emit:x}){const{dialogRef:r,onDialogHide:m,onDialogOK:g,onDialogCancel:y}=I();return(w,u)=>($(),A(P,{ref_key:"dialogRef",ref:r,onHide:_(m)},{default:a(()=>[e(z,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:a(()=>[e(Q,{class:"row no-wrap q-gutter-sm items-center"},{default:a(()=>[e(p,{style:{"margin-top":"10px"},name:"img:barix.svg",size:"1.5rem"}),c("div",null,[L,c("div",U,n(d.device.deviceId),1)])]),_:1}),e(Q,null,{default:a(()=>[c("div",G,[e(R,{dense:""},{default:a(()=>[e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC7A5\uCE58 \uC774\uB984")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.name),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("IP Address")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.ipaddress),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("Net Mask")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.netmask),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uAC8C\uC774\uB4DC\uC6E8\uC774")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.gateway),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC6B0\uC120\uC21C\uC704")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.idx),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uCC44\uB110")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.channels),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uBBF8\uB514\uC5B4 \uD3EC\uBA67")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.mediaformat),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC2A4\uD2B8\uB9BC \uC8FC\uC18C")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.streamurl),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uB3D9\uC791\uC2DC\uAC04")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.uptime),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC74C\uB7C9")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.volume),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uB9B4\uB808\uC774 \uB3D9\uC791")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(d.device.relay1),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uB9C8\uC9C0\uB9C9 \uC5C5\uB370\uC774\uD2B8")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(_(C).formatDate(d.device.updatedAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1}),e(i,{dense:""},{default:a(()=>[e(s,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC7A5\uCE58 \uB4F1\uB85D \uC2DC\uAC04")]),_:1}),e(t,{caption:""},{default:a(()=>[l(n(_(C).formatDate(d.device.createdAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),e(Y,{align:"right"},{default:a(()=>[e(b,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:_(g)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},X={class:"borderd"},E={class:"q-px-lg row no-wrap justify-between items-center bg-grey-2"},W={class:"row no-wrap items-center q-gutter-x-sm"},Z=c("div",{class:"font-main",style:{"font-size":"16px","font-weight":"bold"}}," \uB124\uD2B8\uC6CC\uD06C \uC624\uB514\uC624 \uC218\uC2E0\uAE30 ",-1),ee=["href"],ge={__name:"BarixPage",setup(d){const x=[{name:"name",label:"Name",align:"center",field:"name",sortable:!0},{name:"deviceId",label:"Device ID",align:"center",field:"deviceId",sortable:!0},{name:"ipaddress",label:"IP Address",align:"center",field:"ipaddress",sortable:!0},{name:"actions",label:"FN",align:"center"}],r=M(),m=N(""),g=u=>{r.dialog({component:K,componentProps:{device:u}})},y=()=>{r.dialog({component:j,componentProps:{title:"\uB124\uD2B8\uC6CC\uD06C \uC624\uB514\uC624 \uC218\uC2E0\uAE30 \uCD94\uAC00",type:"barix"}}).onOk(async u=>{try{r.loading.show(),await D.post("/devices/barix",{...u}),O.emit("barix:get",u.ipaddress),await h()}catch(f){console.error(f)}finally{r.loading.hide()}})},w=u=>{r.dialog({component:J,componentProps:{icon:"delete",iconColor:"red-10",title:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC0AD\uC81C",message:`${u.name} ${u.ipaddress}`}}).onOk(async()=>{try{r.loading.show(),await D.delete("/devices/barix",{data:{...u}}),await h(),r.loading.hide()}catch(f){r.loading.hide(),console.error(f)}})};return q(async()=>{r.loading.show(),await h(),r.loading.hide()}),(u,f)=>($(),A(F,{padding:""},{default:a(()=>[c("div",X,[c("div",E,[c("div",W,[e(p,{name:"img:barix.svg",color:"primary",size:"16px"}),Z,e(p,{class:"cursor-pointer",name:"add_circle",size:"xs",color:"primary",onClick:y},{default:a(()=>[e(k,null,{default:a(()=>[l("\uC7A5\uCE58\uCD94\uAC00")]),_:1})]),_:1})]),e(V,{modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=o=>m.value=o),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:a(()=>[e(p,{class:"cursor-pointer",name:"search"})]),_:1},8,["modelValue"])]),e(T,{columns:x,rows:_(H),filter:m.value},{"body-cell-name":a(o=>[e(v,{props:o},{default:a(()=>[c("div",null,[e(S,{rounded:"",color:o.row.status?"primary":"red-10"},null,8,["color"]),l(" "+n(o.value),1)])]),_:2},1032,["props"])]),"body-cell-ipaddress":a(o=>[e(v,{props:o},{default:a(()=>[c("a",{href:`http://${o.value}`,target:"_blank"},n(o.value),9,ee)]),_:2},1032,["props"])]),"body-cell-actions":a(o=>[e(v,{props:o},{default:a(()=>[c("div",null,[e(b,{round:"",flat:"",color:"primary",icon:"info",size:"sm",onClick:B=>g(o.row)},{default:a(()=>[e(k,null,{default:a(()=>[l("\uC0C1\uC138\uC815\uBCF4")]),_:1})]),_:2},1032,["onClick"]),e(b,{round:"",flat:"",color:"red-10",icon:"delete",size:"sm",onClick:B=>w(o.row)},null,8,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])]),_:1}))}};export{ge as default};

import{aE as ve,a3 as _e,aF as X,a4 as he,a5 as pe,a7 as xe,a8 as be,r as A,aG as ye,ac as Se,c as y,D as R,Z as Ie,x as g,g as we,aH as ke,R as j,M as qe,aI as Ce,ak as Te,j as _,ap as Qe,z as Y,o as v,d as $,w as s,f as a,s as Le,h as E,l as o,t as m,aJ as $e,aK as ze,P as z,aL as Be,n as Pe,p as K,e as H,Q as Ae,a as Ne,m as P,aM as J,F as W,k as M,aN as Ve,u as D,S as Ze,U as De}from"./index.55b3bbb2.js";import{Q as Oe}from"./QPage.014eb5d5.js";import{Q as ee,a as B,b as w,c as je}from"./QSelect.f25c5934.js";import{Q as Re}from"./QSlideTransition.a18f5665.js";import{u as te}from"./use-quasar.b13b0874.js";import{u as Ee}from"./dialogConfirm.93f2a88e.js";import{u as Me,f as ne,q as He}from"./useQsys.7bb2f421.js";import{f as ae,b as O}from"./useBarix.d5b33631.js";import{_ as Fe}from"./plugin-vue_export-helper.21dcd24c.js";import"./QMenu.8a5978a6.js";import"./format.cbf00d5d.js";const C=ve({}),Ge=Object.keys(X);var Ue=_e({name:"QExpansionItem",props:{...X,...he,...pe,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...xe,"click","afterShow","afterHide"],setup(e,{slots:h,emit:S}){const{proxy:{$q:I}}=we(),k=be(e,I),d=A(e.modelValue!==null?e.modelValue:e.defaultOpened),q=A(null),n=ye(),{show:f,hide:r,toggle:p}=Se({showing:d});let i,x;const T=y(()=>`q-expansion-item q-item-type q-expansion-item--${d.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),N=y(()=>{if(e.contentInsetLevel===void 0)return null;const t=I.lang.rtl===!0?"Right":"Left";return{["padding"+t]:e.contentInsetLevel*56+"px"}}),Q=y(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),u=y(()=>{const t={};return Ge.forEach(b=>{t[b]=e[b]}),t}),c=y(()=>Q.value===!0||e.expandIconToggle!==!0),l=y(()=>e.expandedIcon!==void 0&&d.value===!0?e.expandedIcon:e.expandIcon||I.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),L=y(()=>e.disable!==!0&&(Q.value===!0||e.expandIconToggle===!0)),F=y(()=>({expanded:d.value===!0,detailsId:n.value,toggle:p,show:f,hide:r})),V=y(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:I.lang.label[d.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":d.value===!0?"true":"false","aria-controls":n.value,"aria-label":t}});R(()=>e.group,t=>{x!==void 0&&x(),t!==void 0&&U()});function ie(t){Q.value!==!0&&p(t),S("click",t)}function se(t){t.keyCode===13&&G(t,!0)}function G(t,b){b!==!0&&q.value!==null&&q.value.focus(),p(t),Qe(t)}function le(){S("afterShow")}function re(){S("afterHide")}function U(){i===void 0&&(i=ke()),d.value===!0&&(C[e.group]=i);const t=R(d,Z=>{Z===!0?C[e.group]=i:C[e.group]===i&&delete C[e.group]}),b=R(()=>C[e.group],(Z,fe)=>{fe===i&&Z!==void 0&&Z!==i&&r()});x=()=>{t(),b(),C[e.group]===i&&delete C[e.group],x=void 0}}function de(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},b=[g(_,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&d.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:l.value})];return L.value===!0&&(Object.assign(t,{tabindex:0,...V.value,onClick:G,onKeyup:se}),b.unshift(g("div",{ref:q,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),g(w,t,()=>b)}function ue(){let t;return h.header!==void 0?t=[].concat(h.header(F.value)):(t=[g(w,()=>[g(B,{lines:e.labelLines},()=>e.label||""),e.caption?g(B,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](g(w,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>g(_,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](de()),t}function ce(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:k.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return c.value===!0&&(t.clickable=!0,t.onClick=ie,Object.assign(t,Q.value===!0?u.value:V.value)),g(ee,t,ue)}function ge(){return qe(g("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:N.value,id:n.value},Te(h.default)),[[Ce,d.value]])}function me(){const t=[ce(),g(Re,{duration:e.duration,onShow:le,onHide:re},ge)];return e.expandSeparator===!0&&t.push(g(j,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:k.value}),g(j,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:k.value})),t}return e.group!==void 0&&U(),Ie(()=>{x!==void 0&&x()}),()=>g("div",{class:T.value},[g("div",{class:"q-expansion-item__container relative-position"},me())])}});const Ke={class:"row no-wrap items-center q-gutter-x-md"},Je=o("div",{class:"dialog-name"},"\uBC29\uC1A1\uC9C0\uC5ED\uC124\uC815",-1),We={class:"dialog-caption"},Xe={__name:"setSigleChannel",props:["device","zone"],setup(e){const{dialogRef:h,onDialogCancel:S,onDialogOK:I}=Ee(),{fnUpdateZoneDestination:k,fnChangeVolume:d,fnChangeMute:q}=Me(),n=e,f=te(),r=A([]),p=A(null),i=A(0),x=(u,c,l)=>{c(()=>{r.value=O.value.filter(L=>L.name.indexOf(u)>-1)})},T=async u=>{let c="";if(u!==null){const l=await Ne.get("/devices/qsys/existszone",{params:{id:u}});if(c=O.value[O.value.findIndex(L=>L._id===u)].ipaddress,l.data&&l.data.value&&l.data.value.length)return l.data.value[0].ZoneStatus.findIndex(V=>V.destination===u)===n.zone.Zone-1?void 0:(p.value=null,f.notify({type:"negative",icon:"warning",position:"top",message:"\uB2E4\uB978 \uBC29\uC1A1 \uAD6C\uAC04\uC5D0\uC11C \uC774\uBBF8 \uC0AC\uC6A9\uC911\uC785\uB2C8\uB2E4."}))}await k({deviceId:n.device.deviceId,zone:n.zone.Zone,destination:u,ipaddress:c}),await ne()},N=u=>{d({deviceId:n.device.deviceId,zone:n.zone.Zone,volume:u})},Q=u=>{q({deviceId:n.device.deviceId,zone:n.zone.Zone,mute:u})};return Y(async()=>{await ae(),r.value=O.value,i.value=n.zone.gain,n.zone.destination&&n.zone.destination._id&&(p.value=n.zone.destination._id)}),(u,c)=>(v(),$(Ae,{ref_key:"dialogRef",ref:h},{default:s(()=>[a(Le,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:s(()=>[a(E,null,{default:s(()=>{var l;return[o("div",Ke,[a(_,{name:"location_on",color:"primary",size:"1.5rem"}),o("div",null,[Je,o("div",We,m(`${e.device.name} ${e.zone.Zone}. ${(l=e.zone.name)!=null?l:"No name"} \uCC44\uB110 `),1)])])]}),_:1}),a(E,null,{default:s(()=>[a(je,{filled:"",dense:"",clearable:"",modelValue:p.value,"onUpdate:modelValue":[c[0]||(c[0]=l=>p.value=l),T],options:r.value,label:"\uB124\uD2B8\uC6CC\uD06C \uC218\uC2E0\uAE30 \uC120\uD0DD","option-value":"_id","option-label":"name","hide-selected":"","use-input":"","fill-input":"","input-debounce":"0","emit-value":"","map-options":"",onFilter:x},{option:s(l=>[a(ee,$e(ze(l.itemProps)),{default:s(()=>[a(w,{avatar:""},{default:s(()=>[a(_,{name:"storage"})]),_:1}),a(w,null,{default:s(()=>[a(B,null,{default:s(()=>[z(m(l.opt.name),1)]),_:2},1024),a(B,{caption:""},{default:s(()=>[z(m(l.opt.ipaddress),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])]),_:1}),a(E,null,{default:s(()=>[o("div",null,[a(Be,{modelValue:i.value,"onUpdate:modelValue":[c[2]||(c[2]=l=>i.value=l),N],filled:"",dense:"",label:"\uBCFC\uB968",type:"number"},{append:s(()=>[a(_,{class:"cursor-pointer",name:e.zone.mute?"volume_off":"volume_up",color:e.zone.mute?"red-10":"primary",onClick:c[1]||(c[1]=l=>Q(!e.zone.mute))},null,8,["name","color"])]),_:1},8,["modelValue"])])]),_:1}),a(Pe,{align:"right"},{default:s(()=>[a(K,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:H(S)},null,8,["onClick"]),a(K,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:c[3]||(c[3]=l=>H(I)(u.inputText))})]),_:1})]),_:1})]),_:1},512))}};const oe=e=>(Ze("data-v-5d9abf98"),e=e(),De(),e),Ye={class:"row no-wrap justify-start items-center q-gutter-x-sm header-font"},et=oe(()=>o("span",null,"\uC9C0\uC5ED \uBC29\uC1A1\uC911",-1)),tt={class:"row q-pa-md q-gutter-sm"},nt={class:"floating-position q-gutter-x-xs row no-wrap items-center"},at={class:"floating-font"},ot={class:""},it={key:0},st={class:"column items-end text-caption"},lt={class:"row q-gutter-x-xs"},rt={key:1},dt={class:"column items-end text-caption"},ut=oe(()=>o("div",null,"Local",-1)),ct={class:"row q-gutter-x-xs"},gt={__name:"broadcastStatus",setup(e){const h=te(),S=n=>{let f=0;for(let r=0;r<n.length;r++)n[r].Active&&(f+=1);return f},I=n=>{switch(n){case 1:case 2:return"bg-red text-white";case 3:case 4:return"bg-yellow";case 5:return"bg-green-4 text-white";default:return""}},k=n=>n&&n.status?n.streamurl?"green":"yellow":"red",d=n=>{if(D.value.isAdmin)return!0;if(D.value.zones&&D.value.zones.length){for(let f of D.value.zones)if(f===n)return!0}return!1},q=(n,f)=>{h.dialog({component:Xe,componentProps:{device:n,zone:f}})};return Y(async()=>{h.loading.show(),await ne(),await ae(),h.loading.hide()}),(n,f)=>(v(!0),P(W,null,J(H(He),(r,p)=>(v(),$(Ue,{key:p,"header-class":"bg-grey-1"},{header:s(()=>[a(w,{avatar:""},{default:s(()=>[a(_,{color:r.connected?"primary":"ref-10",name:"location_on"},null,8,["color"])]),_:2},1024),a(w,null,{default:s(()=>[a(B,null,{default:s(()=>[o("div",null,[z(m(r.name)+" ",1),d(r.deviceId)?(v(),$(_,{key:0,class:"q-ml-sm cursor-pointer",color:"grey",name:"settings"})):M("",!0)])]),_:2},1024),a(B,{caption:""},{default:s(()=>[z(m(r.ipaddress),1)]),_:2},1024)]),_:2},1024),a(w,{side:""},{default:s(()=>[o("div",Ye,[z(m(S(r.ZoneStatus))+" ",1),et])]),_:2},1024)]),default:s(()=>[o("div",tt,[(v(!0),P(W,null,J(r.ZoneStatus,(i,x)=>{var T;return v(),P("div",{key:x},[o("div",{class:Ve(["borderd q-pt-md q-px-sm q-pb-sm q-gutter-sx",i.Active?I(i.Priority):""]),style:{position:"relative"}},[o("div",nt,[o("span",at,m(i.gain),1),i.mute?(v(),$(_,{key:0,name:"volume_off",color:"red-10"})):M("",!0),d(r.deviceId)?(v(),$(_,{key:1,class:"cursor-pointer",name:"settings",color:"primary",onClick:N=>q(r,i)},null,8,["onClick"])):M("",!0)]),o("div",ot,[o("span",null,m(i.Zone)+". ",1),o("span",null,m((T=i.name)!=null?T:"No Name"),1)]),i.destination?(v(),P("div",it,[o("div",null,[a(j,{class:"q-my-sm"})]),o("div",st,[o("div",lt,[z(m(i.destination.name)+" ",1),a(_,{name:"circle",color:k(i.destination)},null,8,["color"])]),o("div",null,m(i.destination.ipaddress),1)])])):(v(),P("div",rt,[o("div",null,[a(j,{class:"q-my-sm"})]),o("div",dt,[ut,o("div",ct,"Channel "+m(i.Zone),1)])]))],2)])}),128))])]),_:2},1024))),128))}};var mt=Fe(gt,[["__scopeId","data-v-5d9abf98"]]);const ft={class:"borderd"},vt={class:"q-px-lg q-py-sm row no-wrap justify-between items-center bg-grey-2"},_t={class:"row no-wrap items-center q-gutter-x-sm"},ht=o("div",{class:"font-main",style:{"font-size":"16px","font-weight":"bold"}},"\uBC29\uC1A1 \uC0C1\uD0DC",-1),Qt={__name:"StatusPage",setup(e){return(h,S)=>(v(),$(Oe,{padding:""},{default:s(()=>[o("div",ft,[o("div",vt,[o("div",_t,[a(_,{name:"location_on",color:"primary",size:"sm"}),ht])]),a(mt)])]),_:1}))}};export{Qt as default};

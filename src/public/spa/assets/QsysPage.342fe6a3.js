import{z as $,A as P,B as a,D as _,O as S,j as e,R as C,Q as p,C as d,J as s,M as l,aF as Y,I as Q,P as z,v as B,r as M,o as N,aL as v,aQ as k,aJ as V,U as x}from"./index.186a5e78.js";import{Q as h}from"./QTooltip.ee8f3b31.js";import{Q as O}from"./QBadge.b1ae3087.js";import{c as T,Q as y,a as F}from"./QTable.6632cdbf.js";import{Q as H}from"./QPage.5ab107d5.js";import{_ as L}from"./dialogConfirm.4f381559.js";import{a as c,b as u,c as t}from"./QSelect.eefc60fe.js";import{d as I}from"./date.50ddbce3.js";import{u as q}from"./use-dialog-plugin-component.830234ac.js";import{_ as R}from"./addDevice.b8482c9f.js";import"./QMenu.129770ed.js";import"./QLinearProgress.2dc8b4cd.js";import"./format.cbf00d5d.js";import"./useRules.8fed1a9e.js";const j=d("div",{class:"dialog-name"},"Q-SYS INFO",-1),E={class:"caption font-sans"},J={class:"q-px-md"},U={__name:"infoQsys",props:["device"],emits:[...q.emits],setup(i,{emit:b}){const{dialogRef:n,onDialogHide:m,onDialogOK:g,onDialogCancel:w}=q();return(D,r)=>($(),P(S,{ref_key:"dialogRef",ref:n,onHide:_(m)},{default:a(()=>[e(z,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:a(()=>[e(C,{class:"row no-wrap q-gutter-sm items-center"},{default:a(()=>[e(p,{style:{"margin-top":"10px"},name:"img:qsys.svg",size:"1.5rem"}),d("div",null,[j,d("div",E,s(i.device.deviceId),1)])]),_:1}),e(C,null,{default:a(()=>[d("div",J,[e(T,{dense:""},{default:a(()=>[e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC7A5\uCE58 \uC774\uB984")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.name),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("IP Address")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.ipaddress),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC6B0\uC120\uC21C\uC704")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.idx),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC5F0\uACB0 \uC0C1\uD0DC")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.connected),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uCF54\uC5B4 \uD50C\uB7AB\uD3FC")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.EngineStatus.Platform),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uCF54\uC5B4 \uC0C1\uD0DC")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.EngineStatus.State),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("PA \uC2E4\uC2DC\uAC04 \uB370\uC774\uD130 \uC5F0\uB3D9")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(i.device.ZoneStatusConfigure),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uB9C8\uC9C0\uB9C9 \uC5C5\uB370\uC774\uD2B8")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(_(I).formatDate(i.device.updatedAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1}),e(c,{dense:""},{default:a(()=>[e(u,null,{default:a(()=>[e(t,null,{default:a(()=>[l("\uC7A5\uCE58 \uB4F1\uB85D \uC2DC\uAC04")]),_:1}),e(t,{caption:""},{default:a(()=>[l(s(_(I).formatDate(i.device.createdAt,"YYYY-MM-DD hh:mm:ss A")),1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1}),e(Y,{align:"right"},{default:a(()=>[e(Q,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:_(g)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},G={class:"borderd"},K={class:"q-px-lg row no-wrap justify-between items-center bg-grey-2"},Z={class:"row no-wrap items-center q-gutter-x-sm"},W=d("div",{class:"font-main",style:{"font-size":"16px","font-weight":"bold"}}," \uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 ",-1),X=["href"],_e={__name:"QsysPage",setup(i){const b=[{name:"name",label:"Name",align:"center",field:"name",sortable:!0},{name:"deviceId",label:"Device ID",align:"center",field:"deviceId",sortable:!0},{name:"ipaddress",label:"IP Address",align:"center",field:"ipaddress",sortable:!0},{name:"actions",label:"FN",align:"center"}],n=B(),m=M(""),g=()=>{n.dialog({component:R,componentProps:{title:"\uC5C5\uBB34\uBC29\uC1A1\uC8FC\uC7A5\uCE58 \uCD94\uAC00",type:"qsys"}}).onOk(async r=>{try{n.loading.show(),await x.post("/devices/qsys",{...r}),await v()}catch(f){console.error(f)}finally{n.loading.hide()}})},w=r=>{n.dialog({component:U,componentProps:{device:r}})},D=r=>{n.dialog({component:L,componentProps:{icon:"delete",iconColor:"red-10",title:"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC0AD\uC81C",message:`${r.name} ${r.ipaddress}`}}).onOk(async()=>{try{n.loading.show(),await x.delete("/devices/qsys",{data:{...r}}),await v(),n.loading.hide()}catch(f){n.loading.hide(),console.error(f)}})};return N(async()=>{n.loading.show(),await v(),console.log(k.value),n.loading.hide()}),(r,f)=>($(),P(H,{padding:""},{default:a(()=>[d("div",G,[d("div",K,[d("div",Z,[e(p,{name:"img:qsys.svg",color:"primary",size:"20px"}),W,d("div",null,[e(p,{class:"cursor-pointer",name:"add_circle",size:"xs",color:"primary",onClick:g},{default:a(()=>[e(h,null,{default:a(()=>[l("\uC7A5\uCE58 \uCD94\uAC00")]),_:1})]),_:1})])]),e(V,{modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=o=>m.value=o),borderless:"",dense:"",debounce:"300",placeholder:"Search",clearable:""},{append:a(()=>[e(p,{class:"cursor-pointer",name:"search"})]),_:1},8,["modelValue"])]),e(F,{columns:b,rows:_(k),filter:m.value},{"body-cell-name":a(o=>[e(y,{props:o},{default:a(()=>[d("div",null,[e(O,{rounded:"",color:o.row.connected?"primary":"red-10"},null,8,["color"]),l(" "+s(o.value),1)])]),_:2},1032,["props"])]),"body-cell-ipaddress":a(o=>[e(y,{props:o},{default:a(()=>[d("a",{href:`http://${o.value}`,target:"_blank"},s(o.value),9,X)]),_:2},1032,["props"])]),"body-cell-actions":a(o=>[e(y,{props:o},{default:a(()=>[d("div",null,[e(Q,{round:"",flat:"",color:"primary",icon:"info",size:"sm",onClick:A=>w(o.row)},{default:a(()=>[e(h,null,{default:a(()=>[l("\uC0C1\uC138\uC815\uBCF4")]),_:1})]),_:2},1032,["onClick"]),e(Q,{round:"",flat:"",color:"red-10",icon:"delete",size:"sm",onClick:A=>D(o.row)},{default:a(()=>[e(h,null,{default:a(()=>[l("\uC0AD\uC81C")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["rows","filter"])])]),_:1}))}};export{_e as default};

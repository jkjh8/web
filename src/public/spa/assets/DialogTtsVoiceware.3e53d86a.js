import{h as U,a1 as Pe,aN as Ge,r as b,aO as Je,c as $,aH as ie,bP as Ye,w as We,bQ as de,b9 as Xe,b8 as el,bR as ge,p as ll,at as tl,q as we,g as al,ax as Z,K as L,Z as Se,l as ze,f as _e,x as C,y as H,z as t,k as l,L as ae,M as R,A as s,N as S,B,aS as ue,bS as ke,J as c,E as A,F as ol,a$ as nl,V as xe,W as $e,D as z,aY as sl,az as oe,H as I,O as ne,v as rl,G as le,bB as il,i as Ie,bT as ul,u as he,o as be,aT as K,aU as ee,bU as cl,bz as ce,aP as Fe,j as ve,aZ as Me,a_ as Ue}from"./index.0736cdf9.js";import{Q as Oe,b as fe,a as me}from"./QTable.77636e67.js";import{Q as dl}from"./QExpansionItem.2b470ddb.js";import{Q as Ce,a as vl}from"./QScrollObserver.d889a16b.js";import{T as qe,a as fl,Q as Re}from"./QTree.85df2fa0.js";import{Q as O}from"./QTooltip.ddc34b6b.js";import{Q as Ve}from"./QTr.92983ea0.js";import{u as M}from"./file.94dabd88.js";import{u as te}from"./player.4b622b4f.js";import{Q as Ae}from"./QBanner.4c3fdf67.js";import{_ as Ze}from"./plugin-vue_export-helper.21dcd24c.js";const ml=U("div",{class:"q-space"});var pl=Pe({name:"QSpace",setup(){return()=>ml}});const Te=["vertical","horizontal"],pe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Qe={prevent:!0,mouse:!0,mouseAllDir:!0},De=r=>r>=250?50:Math.ceil(r/5);var _l=Pe({name:"QScrollArea",props:{...Ge,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(r,{slots:G,emit:F}){const Q=b(!1),T=b(!1),V=b(!1),i={vertical:b(0),horizontal:b(0)},e={vertical:{ref:b(null),position:b(0),size:b(0)},horizontal:{ref:b(null),position:b(0),size:b(0)}},{proxy:f}=al(),x=Je(r,f.$q);let m=null,h;const g=b(null),D=$(()=>"q-scrollarea"+(x.value===!0?" q-scrollarea--dark":""));e.vertical.percentage=$(()=>{const n=e.vertical.size.value-i.vertical.value;if(n<=0)return 0;const d=ie(e.vertical.position.value/n,0,1);return Math.round(d*1e4)/1e4}),e.vertical.thumbHidden=$(()=>(r.visible===null?V.value:r.visible)!==!0&&Q.value===!1&&T.value===!1||e.vertical.size.value<=i.vertical.value+1),e.vertical.thumbStart=$(()=>e.vertical.percentage.value*(i.vertical.value-e.vertical.thumbSize.value)),e.vertical.thumbSize=$(()=>Math.round(ie(i.vertical.value*i.vertical.value/e.vertical.size.value,De(i.vertical.value),i.vertical.value))),e.vertical.style=$(()=>({...r.thumbStyle,...r.verticalThumbStyle,top:`${e.vertical.thumbStart.value}px`,height:`${e.vertical.thumbSize.value}px`})),e.vertical.thumbClass=$(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.vertical.barClass=$(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),e.horizontal.percentage=$(()=>{const n=e.horizontal.size.value-i.horizontal.value;if(n<=0)return 0;const d=ie(Math.abs(e.horizontal.position.value)/n,0,1);return Math.round(d*1e4)/1e4}),e.horizontal.thumbHidden=$(()=>(r.visible===null?V.value:r.visible)!==!0&&Q.value===!1&&T.value===!1||e.horizontal.size.value<=i.horizontal.value+1),e.horizontal.thumbStart=$(()=>e.horizontal.percentage.value*(i.horizontal.value-e.horizontal.thumbSize.value)),e.horizontal.thumbSize=$(()=>Math.round(ie(i.horizontal.value*i.horizontal.value/e.horizontal.size.value,De(i.horizontal.value),i.horizontal.value))),e.horizontal.style=$(()=>({...r.thumbStyle,...r.horizontalThumbStyle,[f.$q.lang.rtl===!0?"right":"left"]:`${e.horizontal.thumbStart.value}px`,width:`${e.horizontal.thumbSize.value}px`})),e.horizontal.thumbClass=$(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.horizontal.barClass=$(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const P=$(()=>e.vertical.thumbHidden.value===!0&&e.horizontal.thumbHidden.value===!0?r.contentStyle:r.contentActiveStyle),v=[[qe,n=>{J(n,"vertical")},void 0,{vertical:!0,...Qe}]],o=[[qe,n=>{J(n,"horizontal")},void 0,{horizontal:!0,...Qe}]];function a(){const n={};return Te.forEach(d=>{const w=e[d];n[d+"Position"]=w.position.value,n[d+"Percentage"]=w.percentage.value,n[d+"Size"]=w.size.value,n[d+"ContainerSize"]=i[d].value}),n}const p=Ye(()=>{const n=a();n.ref=f,F("scroll",n)},0);function k(n,d,w){if(Te.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?ge:de)(g.value,d,w)}function y({height:n,width:d}){let w=!1;i.vertical.value!==n&&(i.vertical.value=n,w=!0),i.horizontal.value!==d&&(i.horizontal.value=d,w=!0),w===!0&&_()}function j({position:n}){let d=!1;e.vertical.position.value!==n.top&&(e.vertical.position.value=n.top,d=!0),e.horizontal.position.value!==n.left&&(e.horizontal.position.value=n.left,d=!0),d===!0&&_()}function W({height:n,width:d}){e.horizontal.size.value!==d&&(e.horizontal.size.value=d,_()),e.vertical.size.value!==n&&(e.vertical.size.value=n,_())}function J(n,d){const w=e[d];if(n.isFirst===!0){if(w.thumbHidden.value===!0)return;h=w.position.value,T.value=!0}else if(T.value!==!0)return;n.isFinal===!0&&(T.value=!1);const N=pe[d],re=i[d].value,Ne=(w.size.value-re)/(re-w.thumbSize.value),Ke=n.distance[N.dist],Le=h+(n.direction===N.dir?1:-1)*Ke*Ne;X(Le,d)}function Y(n,d){const w=e[d];if(w.thumbHidden.value!==!0){const N=n[pe[d].offset];if(N<w.thumbStart.value||N>w.thumbStart.value+w.thumbSize.value){const re=N-w.thumbSize.value/2;X(re/i[d].value*w.size.value,d)}w.ref.value!==null&&w.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function q(n){Y(n,"vertical")}function u(n){Y(n,"horizontal")}function _(){Q.value=!0,m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,Q.value=!1},r.delay),r.onScroll!==void 0&&p()}function X(n,d){g.value[pe[d].scroll]=n}let E=null;function He(){E!==null&&clearTimeout(E),E=setTimeout(()=>{E=null,V.value=!0},f.$q.platform.is.ios?50:0)}function Ee(){E!==null&&(clearTimeout(E),E=null),V.value=!1}let se=null;return We(()=>f.$q.lang.rtl,n=>{g.value!==null&&de(g.value,Math.abs(e.horizontal.position.value)*(n===!0?-1:1))}),Xe(()=>{se={top:e.vertical.position.value,left:e.horizontal.position.value}}),el(()=>{if(se===null)return;const n=g.value;n!==null&&(de(n,se.left),ge(n,se.top))}),ll(p.cancel),Object.assign(f,{getScrollTarget:()=>g.value,getScroll:a,getScrollPosition:()=>({top:e.vertical.position.value,left:e.horizontal.position.value}),getScrollPercentage:()=>({top:e.vertical.percentage.value,left:e.horizontal.percentage.value}),setScrollPosition:k,setScrollPercentage(n,d,w){k(n,d*(e[n].size.value-i[n].value)*(n==="horizontal"&&f.$q.lang.rtl===!0?-1:1),w)}}),()=>U("div",{class:D.value,onMouseenter:He,onMouseleave:Ee},[U("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:r.tabindex!==void 0?r.tabindex:void 0},[U("div",{class:"q-scrollarea__content absolute",style:P.value},tl(G.default,[U(Ce,{debounce:0,onResize:W})])),U(vl,{axis:"both",onScroll:j})]),U(Ce,{debounce:0,onResize:y}),U("div",{class:e.vertical.barClass.value,style:[r.barStyle,r.verticalBarStyle],"aria-hidden":"true",onMousedown:q}),U("div",{class:e.horizontal.barClass.value,style:[r.barStyle,r.horizontalBarStyle],"aria-hidden":"true",onMousedown:u}),we(U("div",{ref:e.vertical.ref,class:e.vertical.thumbClass.value,style:e.vertical.style.value,"aria-hidden":"true"}),v),we(U("div",{ref:e.horizontal.ref,class:e.horizontal.thumbClass.value,style:e.horizontal.style.value,"aria-hidden":"true"}),o)])}});const hl={class:"row no-wrap q-mr-sm"},bl={class:"row no-wrap items-center q-gutter-x-md"},yl=s("div",{class:"dialog-name"},"\uBC29\uC1A1\uAD6C\uAC04\uC120\uD0DD",-1),gl={class:"dialog-caption"},wl={class:"q-pa-sm"},Sl={class:"q-px-sm"},pt={__name:"DialogSelectBrocastZones",props:["selected"],emits:[...Z.emits],setup(r,{emit:G}){const{dialogRef:F,onDialogCancel:Q,onDialogOK:T}=Z(),V=r,{qsys:i}=L(Se()),e=ze({}),f=ze({}),x=b(!1),m=b(0),h=()=>{let v=0;m.value=0;for(let o of i.value)v+=o.ZoneStatus.length;for(let o in e)m.value+=e[o].length;x.value=v===m.value?!0:m.value===0?!1:null,i.value.forEach(o=>{f[o.deviceId]=e[o.deviceId].length===o.ZoneStatus.length?!0:e[o.deviceId].length===0?!1:null})},g=(v,o,a)=>{e[o.deviceId]=v?[...o.ZoneStatus]:[],h()},D=v=>{i.value.forEach(o=>{e[o.deviceId]=v?[...o.ZoneStatus]:[]}),h()},P=()=>{const v=i.value.reduce((o,a)=>{const p=e[a.deviceId];return p.length&&o.push({deviceId:a.deviceId,name:a.name,ipaddress:a.ipaddress,amx:a.amx,value:p,Zones:p.map(k=>k.Zone)}),o},[]);T(v)};return _e(async()=>{await Se().fnGetQsys();const v=new Map(V.selected.map(o=>[o.deviceId,o]));i.value.forEach(o=>{var p;const a=v.get(o.deviceId);if(a){const k=(p=a.value)!=null&&p.length?[...a.value]:a.Zones.map(y=>o.ZoneStatus.find(j=>j.Zone===y)).filter(Boolean);e[o.deviceId]=k,f[o.deviceId]=k.length===o.ZoneStatus.length?!0:null}else e[o.deviceId]=[],f[o.deviceId]=!1}),h()}),(v,o)=>(C(),H(ne,{ref_key:"dialogRef",ref:F,persistent:""},{default:t(()=>[l(ae,{style:{"max-width":"900px",width:"80%","min-width":"500px","border-radius":"6px"}},{default:t(()=>[l(R,null,{default:t(()=>[s("div",hl,[s("div",bl,[l(S,{name:"location_on",color:"primary",size:"1.5rem"}),s("div",null,[yl,s("div",gl,B(m.value)+"\uAC1C \uBC29\uC1A1\uAD6C\uAC04 \uC120\uD0DD ",1)])]),l(pl),s("div",null,[l(ue,{modelValue:x.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>x.value=a),o[1]||(o[1]=a=>D(a))],label:"\uC804\uCCB4\uC120\uD0DD","left-label":""},null,8,["modelValue"])])])]),_:1}),l(R,null,{default:t(()=>{var a;return[l(_l,{style:ke({height:`${(((a=c(i))==null?void 0:a.length)||0)*70}px`,"max-height":"50vh"})},{default:t(()=>[(C(!0),A(ol,null,nl(c(i),(p,k)=>(C(),A("div",{key:k,class:"q-px-md"},[l(dl,{class:"q-pa-xs col-xs-6 col-sm-3 col-md-2 bg-grey-1"},{header:t(()=>[l(xe,{avatar:""},{default:t(()=>[l(ue,{modelValue:f[p.deviceId],"onUpdate:modelValue":[y=>f[p.deviceId]=y,y=>g(y,p,k)]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(xe,null,{default:t(()=>[l($e,null,{default:t(()=>[z(B(p.name),1)]),_:2},1024),l($e,{caption:""},{default:t(()=>[z(B(p.ipaddress),1)]),_:2},1024)]),_:2},1024)]),default:t(()=>[l(Oe,{rows:p.ZoneStatus,columns:[],"row-key":"Zone",selection:"multiple",selected:e[p.deviceId],"onUpdate:selected":[y=>e[p.deviceId]=y,o[2]||(o[2]=y=>h())],grid:"",pagination:{rowsPerPage:0},"hide-header":"","hide-bottom":""},{item:t(y=>[s("div",{class:"q-pa-xs col-xs-6 col-sm-3 col-md-2 grid-style-transition",style:ke(y.selected?"transform: scale(0.95);":"")},[s("div",{class:sl(["border",y.selected?v.$q.dark.isActive?"bg-grey-10":"bg-grey-3":""])},[s("div",wl,[l(ue,{dense:"",modelValue:y.selected,"onUpdate:modelValue":j=>y.selected=j,label:y.row.name?`${y.row.Zone}. ${y.row.name}`:`${y.row.Zone}. No Name`},null,8,["modelValue","onUpdate:modelValue","label"])])],2)],4)]),_:2},1032,["rows","selected","onUpdate:selected"])]),_:2},1024)]))),128))]),_:1},8,["style"])]}),_:1}),l(oe,{align:"right"},{default:t(()=>[s("div",Sl,[l(I,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:c(Q)},null,8,["onClick"]),l(I,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:P})])]),_:1})]),_:1})]),_:1},512))}},zl={class:"row no-wrap justify-between items-center"},kl={class:"row no-wrap items-center q-gutter-x-md"},xl=s("div",null,[s("div",{class:"dialog-name"},"\uD30C\uC77C\uC120\uD0DD")],-1),$l={key:0},Cl=["onClick"],ql={key:2},_t={__name:"DialogSelectFile",props:["file"],emits:[...Z.emits],setup(r,{emit:G}){const{dialogRef:F,onDialogCancel:Q,onDialogOK:T}=Z(),V=r,{user:i}=L(rl()),{files:e}=L(M()),{fnPlayStart:f,fnPlayerStopClose:x}=te(),m=b(25),h=b([]),g=$(()=>{var v;return((v=e.value.selectedFolder)==null?void 0:v.includes("/global"))&&!i.value.isAdmin}),D=()=>{x(),T(h.value)},P=()=>{x(),Q()};return _e(async()=>{await M().fnRefreshFF(),V.file&&(h.value[0]=V.file)}),(v,o)=>(C(),H(ne,{ref_key:"dialogRef",ref:F,persistent:""},{default:t(()=>[l(ae,{class:"q-dialog-plugin",style:{"border-radius":"8px",width:"90%","max-width":"800px"}},{default:t(()=>[l(R,null,{default:t(()=>[s("div",zl,[s("div",kl,[l(S,{name:"save",color:"primary",size:"1.5rem"}),xl]),s("div",null,[l(I,{disable:g.value,round:"",flat:"",icon:"create_new_folder",color:"primary",size:"12px",onClick:o[0]||(o[0]=a=>c(M)().fnMakeFolder(c(e).selectedFolder))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC0C8\uD3F4\uB354")]),_:1})]),_:1},8,["disable"]),l(I,{disable:g.value,round:"",flat:"",icon:"upload",color:"primary",size:"12px",onClick:o[1]||(o[1]=a=>c(M)().fnUploadFile(c(e).selectedFolder))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uD30C\uC77C \uC5C5\uB85C\uB4DC")]),_:1})]),_:1},8,["disable"])])])]),_:1}),l(R,null,{default:t(()=>[l(fl,{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=a=>m.value=a)},{before:t(()=>[l(Re,{nodes:c(e).folders,selected:c(e).selectedFolder,"onUpdate:selected":[o[2]||(o[2]=a=>c(e).selectedFolder=a),c(M)().fnSelectFolder],"node-key":"path","no-selection-unset":"","selected-color":"primary"},null,8,["nodes","selected","onUpdate:selected"])]),after:t(()=>[l(Oe,{columns:[{name:"name",label:"NAME",field:"name",align:"left",sortable:!0},{name:"size",label:"SIZE",field:"size",sortable:!0}],rows:c(e).files,flat:"","row-key":"name",selection:"single",selected:h.value,"onUpdate:selected":o[3]||(o[3]=a=>h.value=a),pagination:{rowsPerPage:0},"hide-bottom":""},{header:t(a=>[l(Ve,{props:a},{default:t(()=>[l(fe,{style:{width:"2rem"}}),l(fe,{key:"name",props:a},{default:t(()=>[z(" NAME ")]),_:2},1032,["props"]),l(fe,{key:"size",props:a,style:{width:"2.5rem"}},{default:t(()=>[z(" SIZE ")]),_:2},1032,["props"])]),_:2},1032,["props"])]),body:t(a=>[l(Ve,{props:a},{default:t(()=>[l(me,null,{default:t(()=>[a.row.type!=="folder"?(C(),H(ue,{key:0,modelValue:a.selected,"onUpdate:modelValue":p=>a.selected=p},null,8,["modelValue","onUpdate:modelValue"])):le("",!0)]),_:2},1024),l(me,{key:"name",props:a},{default:t(()=>[a.row.type==="folder"?(C(),A("span",$l,[l(S,{name:"folder_open",color:"primary",size:"sm"})])):le("",!0),a.row.type==="folder"?(C(),A("span",{key:1,class:"q-ml-xs cursor-pointer",onClick:p=>c(M)().fnSelectFolder(a.row.fullpath)},B(a.row.name),9,Cl)):(C(),A("span",ql,[z(B(a.row.name)+" ",1),l(I,{flat:"",round:"",color:"primary",icon:"play_arrow",onClick:p=>c(f)(a.row)},null,8,["onClick"])]))]),_:2},1032,["props"]),l(me,{key:"size",props:a,style:{width:"2.5rem"}},{default:t(()=>[z(B(a.row.type!=="folder"?c(il).humanStorageSize(a.row.size):""),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","selected"])]),_:1},8,["modelValue"])]),_:1}),l(oe,{align:"right"},{default:t(()=>[l(I,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:P}),l(I,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:D})]),_:1})]),_:1})]),_:1},512))}},Vl={class:"row no-wrap justify-between items-center"},Tl={class:"row no-wrap items-center q-gutter-x-md"},Ql=s("div",null,[s("div",{class:"dialog-name"},"\uD30C\uC77C\uC120\uD0DD")],-1),Dl={class:"q-px-md"},Pl={class:"row no-wrap justify-between"},Il={class:"row no-wrap"},Fl=s("div",{class:"q-ml-sm"},"\uD3F4\uB354 \uC120\uD0DD",-1),Ml={class:"q-px-md"},je={__name:"DialogTtsFileSave",props:["file"],emits:[...Z.emits],setup(r,{emit:G}){const F=Ie("api"),{dialogRef:Q,onDialogCancel:T,onDialogOK:V}=Z(),i=r,{ruleRequired:e}=ul(),f=he(),{files:x}=L(M()),m=$(()=>x.value.folders.slice(1)),h=b([]),g=b(""),D=async()=>{try{await F.put("/files/copy",{original:i.file.fullpath,folder:h.value,name:g.value})}catch(v){console.error(v)}},P=async()=>{if(!g.value)return ee().warn("\uD30C\uC77C\uC774\uB984\uC744 \uC785\uB825\uD558\uC138\uC694.");if(!h.value)return ee().warn("\uD3F4\uB354\uB97C \uC120\uD0DD\uD558\uC138\uC694.");f.loading.show();try{const{data:v}=await F.get("/files/exist",{params:{data:JSON.stringify({folder:h.value,name:g.value})}});v.result&&v.exist&&(f.loading.hide(),f.dialog({component:cl,componentProps:{title:"\uD30C\uC77C\uC774\uB984 \uC911\uBCF5",message:"\uB3D9\uC77C\uD55C \uC774\uB984\uC758 \uD30C\uC77C\uC774 \uC874\uC7AC\uD569\uB2C8\uB2E4. \uB36E\uC5B4\uC4F0\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).onOk(async()=>{await D(),V()})),v.result&&!v.exist&&(await D(),V()),v.result||ee().error("\uD30C\uC77C \uBCF5\uC0AC \uC624\uB958","\uD30C\uC77C \uBCF5\uC0AC \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}catch(v){console.error(v)}finally{f.loading.hide()}};return _e(async()=>{await M().fnRefreshFF()}),be(()=>{m.value[0]&&(h.value=m.value[0].path),g.value=i.file.base}),(v,o)=>(C(),H(ne,{ref_key:"dialogRef",ref:Q},{default:t(()=>[l(ae,{class:"q-dialog-plugin",style:{"border-radius":"8px"}},{default:t(()=>[l(R,null,{default:t(()=>[s("div",Vl,[s("div",Tl,[l(S,{name:"save",color:"primary",size:"1.5rem"}),Ql])])]),_:1}),l(R,null,{default:t(()=>[s("div",Dl,[s("div",Pl,[s("div",Il,[l(S,{name:"folder",color:"primary",size:"1.4rem"}),Fl]),s("div",null,[l(S,{class:"cursor-pointer",name:"create_new_folder",color:"primary",size:"1.4rem",onClick:o[0]||(o[0]=a=>c(M)().fnMakeFolder(h.value))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC0C8\uD3F4\uB354")]),_:1})]),_:1})])]),l(Re,{class:"bg-grey-3",nodes:m.value,selected:h.value,"onUpdate:selected":o[1]||(o[1]=a=>h.value=a),"node-key":"path","no-selection-unset":"","default-expand-all":"","selected-color":"primary"},null,8,["nodes","selected"])])]),_:1}),l(R,null,{default:t(()=>[s("div",Ml,[l(K,{filled:"",dense:"",modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=a=>g.value=a),label:"\uD30C\uC77C\uC774\uB984",rules:[c(e)]},null,8,["modelValue","rules"])])]),_:1}),l(oe,{align:"right"},{default:t(()=>[l(I,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:c(T)},null,8,["onClick"]),l(I,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:P})]),_:1})]),_:1})]),_:1},512))}};const Be=r=>(Me("data-v-5f14008e"),r=r(),Ue(),r),Ul={class:"row no-wrap items-center q-gutter-x-md"},Ol=Be(()=>s("div",{class:"card-name"},"\uC74C\uC131\uD569\uC131",-1)),Rl=Be(()=>s("span",{class:"self-end"}," \uBA54\uC2DC\uC9C0\uAC00 \uBCC0\uACBD \uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC74C\uC131\uD569\uC131\uC744 \uC2E4\uD589\uD574 \uC8FC\uC138\uC694. ",-1)),Al={class:"q-gutter-y-sm"},Zl={class:"row justify-between q-px-sm"},jl={key:0,class:"row no-wrap justify-between items-center q-gutter-x-sm"},Bl={key:1,class:"text-red-10 row items-center"},Hl={__name:"DialogTtsSapi",props:["file","current"],emits:[...Z.emits],setup(r,{emit:G}){const{dialogRef:F,onDialogCancel:Q,onDialogOK:T}=Z(),{fnPlayStart:V,fnPlayerStopClose:i}=te(),{currentFile:e,voices:f,voice:x,ttsRate:m,ttsText:h,id:g}=L(ce()),{fnGetVoices:D,fnGetDefaultVoice:P,fnMakeTts:v,fnDeleteFile:o}=ce(),a=r,p=he(),k=b(!1),y=b(!1),j=async()=>{te().fnPlayerStopClose(),e.value&&await o(e.value),await v(),k.value=!1,y.value=!0},W=()=>{p.dialog({component:je,componentProps:{file:e.value}})},J=()=>{i(),T({file:e.value,id:g.value})},Y=()=>{i(),Q()};return be(async()=>{var q,u;try{p.loading.show(),await D(),await P(),await M().fnRefreshFF(),a.file&&(e.value=a.file,y.value=!0),a.current&&(a.current.text&&(h.value=(q=a.current.text)!=null?q:""),a.current.voice&&(x.value=a.current.voice),a.current.rate&&(m.value=(u=a.current.rate)!=null?u:150))}catch{ee().error("TTS \uC870\uD68C \uC624\uB958","\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.")}finally{p.loading.hide()}}),(q,u)=>(C(),H(ne,{ref_key:"dialogRef",ref:F,persistent:""},{default:t(()=>[l(ae,{class:"q-dialog-plugin bg-trans wide"},{default:t(()=>[l(R,null,{default:t(()=>[s("div",Ul,[l(S,{name:"volume_up",color:"primary",size:"sm"}),Ol])]),_:1}),y.value===!0&&k.value===!0?(C(),H(Ae,{key:0,"inline-actions":"",class:"text-white bg-orange row items-center q-gutter-x-sm"},{default:t(()=>[l(S,{name:"warning",size:"xs"}),Rl]),_:1})):le("",!0),l(R,null,{default:t(()=>[s("div",Al,[l(Fe,{options:c(f),modelValue:c(x),"onUpdate:modelValue":u[0]||(u[0]=_=>ve(x)?x.value=_:null),"map-options":"","emit-value":"","option-value":"id","option-label":"name",filled:"",dense:"",label:"\uC74C\uC131"},null,8,["options","modelValue"]),l(K,{modelValue:c(m),"onUpdate:modelValue":u[1]||(u[1]=_=>ve(m)?m.value=_:null),type:"number",filled:"",dense:"",label:"\uC74C\uC131\uC18D\uB3C4"},null,8,["modelValue"]),l(K,{modelValue:c(h),"onUpdate:modelValue":[u[2]||(u[2]=_=>ve(h)?h.value=_:null),u[3]||(u[3]=_=>k.value=!0)],filled:"",type:"textarea",placeholder:"\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD558\uC138\uC694.",label:`\uBA54\uC2DC\uC9C0 (${c(h).length}/1000)`},null,8,["modelValue","label"]),s("div",Zl,[c(e)?(C(),A("div",jl,[s("div",null,[l(S,{class:"cursor-pointer",name:"play_arrow",color:"primary",size:"sm",onClick:u[4]||(u[4]=_=>c(V)(c(e)))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uBBF8\uB9AC\uB4E3\uAE30")]),_:1})]),_:1}),z(" "+B(c(e).base),1)]),l(S,{class:"cursor-pointer q-mr-sm",name:"cancel",color:"red-10",size:"sm",onClick:u[5]||(u[5]=_=>c(o)(c(e)))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC0AD\uC81C")]),_:1})]),_:1}),l(S,{class:"cursor-pointer",name:"save",color:"primary",size:"sm",onClick:W},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC800\uC7A5")]),_:1})]),_:1})])):(C(),A("div",Bl,[l(S,{name:"warning"}),z(" \uD569\uC131\uB41C \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4. ")])),l(S,{class:"cursor-pointer",color:"primary",name:"mic",size:"sm",onClick:j},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC74C\uC131\uD569\uC131")]),_:1})]),_:1})])])]),_:1}),l(oe,{align:"right"},{default:t(()=>[l(I,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:Y}),l(I,{disable:!c(e),round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:J},null,8,["disable"])]),_:1})]),_:1})]),_:1},512))}};var ht=Ze(Hl,[["__scopeId","data-v-5f14008e"]]);const ye=r=>(Me("data-v-74d6d1ef"),r=r(),Ue(),r),El={class:"row no-wrap items-center q-gutter-x-md"},Nl=ye(()=>s("div",{class:"card-name"},"\uC74C\uC131\uD569\uC131",-1)),Kl=ye(()=>s("span",{class:"self-end"}," \uBA54\uC2DC\uC9C0\uAC00 \uBCC0\uACBD \uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC74C\uC131\uD569\uC131\uC744 \uC2E4\uD589\uD574 \uC8FC\uC138\uC694. ",-1)),Ll={class:"q-gutter-y-sm"},Gl={class:"q-px-sm row justify-between"},Jl={class:"row no-wrap items-center q-gutter-x-xs"},Yl=ye(()=>s("div",null,"\uC0C1\uC138\uC124\uC815",-1)),Wl={key:0,class:"q-pl-md q-gutter-y-xs"},Xl={class:"text-caption"},et={class:"row justify-between q-px-sm"},lt={key:0,class:"row no-wrap justify-between items-center q-gutter-x-sm"},tt={key:1,class:"text-red-10 row items-center"},at={__name:"DialogTtsVoiceware",props:["file","current"],emits:[...Z.emits],setup(r,{emit:G}){const F=Ie("api"),{dialogRef:Q,onDialogCancel:T,onDialogOK:V}=Z();L(M());const{fnPlayStart:i,fnPlayerStopClose:e}=te(),{currentFile:f}=L(ce()),{fnDeleteFile:x}=ce(),m=r,h=he(),g=b(!1),D=b(!1),P=b(!1),v=b("hyeryun"),o=b(""),a=b(100),p=b(100),k=b(100),y=b(""),j=async()=>{te().fnPlayerStopClose(),f.value&&await x(f.value),g.value=!1,D.value=!0,h.loading.show("\uC74C\uC131 \uD569\uC131 \uC911\uC785\uB2C8\uB2E4. \uC7A0\uC2DC\uB9CC \uAE30\uB2E4\uB824 \uC8FC\uC138\uC694.");try{const{data:q}=await F.put("/broadcast/tts/vw",{voice:v.value,text:o.value,volume:a.value,speed:p.value,pitch:k.value});f.value=q.value.file,q.value&&q.value.id&&(y.value=q.value.id)}catch(q){console.error(q),ee().error("\uC74C\uC131 \uD569\uC131 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.","\uC7A0\uC2DC\uD6C4\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."),console.error(q)}finally{h.loading.hide()}},W=()=>{h.dialog({component:je,componentProps:{file:f.value}})},J=()=>{e(),V({file:f.value,id:y.value})},Y=()=>{e(),T()};return be(async()=>{var q,u,_,X;await M().fnRefreshFF(),m.file&&(f.value=m.file,D.value=!0),m.current&&(m.current.text&&(o.value=(q=m.current.text)!=null?q:""),m.current.volume&&(a.value=(u=m.current.volume)!=null?u:100),m.current.speed&&(p.value=(_=m.current.speed)!=null?_:100),m.current.pitch&&(k.value=(X=m.current.pitch)!=null?X:100))}),(q,u)=>(C(),H(ne,{ref_key:"dialogRef",ref:Q,persistent:""},{default:t(()=>[l(ae,{class:"q-dialog-plugin bg-trans wide"},{default:t(()=>[l(R,null,{default:t(()=>[s("div",El,[l(S,{name:"volume_up",color:"primary",size:"sm"}),Nl])]),_:1}),D.value===!0&&g.value===!0?(C(),H(Ae,{key:0,"inline-actions":"",class:"text-white bg-orange row items-center q-gutter-x-sm"},{default:t(()=>[l(S,{name:"warning",size:"xs"}),Kl]),_:1})):le("",!0),l(R,null,{default:t(()=>[s("div",Ll,[l(Fe,{options:[{label:"\uD61C\uB828",value:"hyeryun"}],modelValue:v.value,"onUpdate:modelValue":u[0]||(u[0]=_=>v.value=_),"map-options":"","emit-value":"",filled:"",dense:"",label:"\uC74C\uC131"},null,8,["modelValue"]),s("div",Gl,[s("div",Jl,[l(S,{name:"info",color:"primary"}),Yl]),l(S,{class:"cursor-pointer q-pr-xs",name:P.value?"arrow_drop_up":"arrow_drop_down",color:"primary",size:"sm",onClick:u[1]||(u[1]=_=>P.value=!P.value)},null,8,["name"])]),P.value?(C(),A("div",Wl,[l(K,{type:"number",filled:"",dense:"",label:"\uBCFC\uB968",modelValue:a.value,"onUpdate:modelValue":u[2]||(u[2]=_=>a.value=_)},null,8,["modelValue"]),l(K,{type:"number",filled:"",dense:"",label:"\uC18D\uB3C4",modelValue:p.value,"onUpdate:modelValue":u[3]||(u[3]=_=>p.value=_)},null,8,["modelValue"]),l(K,{type:"number",filled:"",dense:"",label:"\uC74C\uC0C9",modelValue:k.value,"onUpdate:modelValue":u[4]||(u[4]=_=>k.value=_)},null,8,["modelValue"])])):le("",!0),l(K,{modelValue:o.value,"onUpdate:modelValue":[u[5]||(u[5]=_=>o.value=_),u[6]||(u[6]=_=>g.value=!0)],filled:"",type:"textarea",placeholder:"\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD558\uC138\uC694.",label:`\uBA54\uC2DC\uC9C0 (${o.value.length}/1000)`},{append:t(()=>[s("div",Xl,B(o.value.length),1)]),_:1},8,["modelValue","label"]),s("div",et,[c(f)?(C(),A("div",lt,[s("div",null,[l(S,{class:"cursor-pointer",name:"play_arrow",color:"primary",size:"sm",onClick:u[7]||(u[7]=_=>c(i)(c(f)))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uBBF8\uB9AC\uB4E3\uAE30")]),_:1})]),_:1}),z(" "+B(c(f).base),1)]),l(S,{class:"cursor-pointer q-mr-sm",name:"cancel",color:"red-10",size:"sm",onClick:u[8]||(u[8]=_=>c(x)(c(f)))},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC0AD\uC81C")]),_:1})]),_:1}),l(S,{class:"cursor-pointer",name:"save",color:"primary",size:"sm",onClick:W},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC800\uC7A5")]),_:1})]),_:1})])):(C(),A("div",tt,[l(S,{name:"warning"}),z(" \uD569\uC131\uB41C \uD30C\uC77C\uC774 \uC5C6\uC2B5\uB2C8\uB2E4. ")])),l(S,{class:"cursor-pointer",color:"primary",name:"mic",size:"sm",onClick:j},{default:t(()=>[l(O,null,{default:t(()=>[z("\uC74C\uC131\uD569\uC131")]),_:1})]),_:1})])])]),_:1}),l(oe,{align:"right"},{default:t(()=>[l(I,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:Y}),l(I,{disable:!c(f),round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",onClick:J},null,8,["disable"])]),_:1})]),_:1})]),_:1},512))}};var bt=Ze(at,[["__scopeId","data-v-74d6d1ef"]]);export{ht as D,pl as Q,pt as _,_t as a,bt as b};

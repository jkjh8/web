import{i as O,u as R,c as N,v as z,x as r,y as d,z as t,A as o,B as j,k as e,Q as B,C as E,D as u,E as S,G as q,H as b,I as U,J as s,K as g,o as T,q as h,L as H,M as J,N as c,j as K,O as W,F as X,R as A,S as M,U as $,V as _,W as f,X as C,Y as P,Z as D,r as Y,w as Z,_ as ee,$ as te,a0 as se}from"./index.93de1c34.js";import{Q as ne}from"./QTooltip.58f974ba.js";import{Q as ae,a as oe,b as re,c as le}from"./QLayout.b3153557.js";import{Q as ie}from"./QCircularProgress.09830e3e.js";import{C as ue}from"./ClosePopup.7960069f.js";import{u as F}from"./player.7b3f7c7b.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as L}from"./QBanner.5a3d52c1.js";import{u as de}from"./barix.194191a5.js";import"./QScrollObserver.ad1215ba.js";const ce={style:{"font-size":"0.9rem","font-family":"NanumSquare","font-weight":"700"}},_e={class:"column items-center justify-center q-gutter-y-sm q-my-sm",style:{width:"200px"}},fe={class:"row justify-center q-gutter-x-sm"},pe={key:0,class:"row justify-center text-caption"},me={class:"row justify-center"},ve={class:"row justify-center"},ye={class:"row no-wrap justify-center"},we={__name:"nameCard",props:["user"],setup(p){const a=O("api"),l=R(),n=p,i=N(()=>n.user&&n.user.name?n.user.name.charAt(0).toUpperCase():""),{fnSignOut:x}=z(),y=async()=>{try{l.loading.show();const m=await a.get("/files/manual",{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([m.data])),w=document.createElement("a");w.href=v,w.setAttribute("download","\uD55C\uC218\uC6D0_\uC5C5\uBB34\uBC29\uC1A1_\uBA54\uB274\uC5BC.pdf"),w.click(),w.remove()}catch(m){console.error(m)}finally{l.loading.hide()}};return(m,v)=>(r(),d(b,{unelevated:"",round:"",size:"12px",color:"primary"},{default:t(()=>[o("div",ce,j(i.value),1),e(B,{style:{"border-radius":"8px",padding:"10px 10px"},offset:[10,20]},{default:t(()=>[o("div",_e,[o("div",fe,[e(E,{color:"primary",textColor:"white",size:"64px"},{default:t(()=>[u(j(i.value),1)]),_:1})]),o("div",null,j(p.user.email),1),p.user.isAdmin?(r(),S("div",pe," \uAD00\uB9AC\uC790 ")):q("",!0),o("div",me,[e(b,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"blue-grey-7",label:"\uC0AC\uC6A9\uC790 \uC815\uBCF4",onClick:v[0]||(v[0]=w=>m.fnUserInfo(p.user))})]),o("div",ve,[e(b,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"green-7",label:"\uBA54\uB274\uC5BC",onClick:y})]),e(U,{class:"q-my-sm"}),o("div",ye,[e(b,{style:{width:"120px"},rounded:"",unelevated:"","no-caps":"",color:"red-10",label:"\uB85C\uADF8\uC544\uC6C3",onClick:s(x)},null,8,["onClick"])])])]),_:1})]),_:1}))}};const ge={class:"q-pa-lg",style:{position:"relative"}},xe={class:"row no-wrap justify-start items-center q-gutter-x-md"},ke={class:"text-bold",style:{"font-size":"1rem"}},be={__name:"AudioPlayer",setup(p){const{audioPlayer:a,modal:l,playStatus:n,playTime:i,previewFile:x}=g(F()),{fnInitAudioPlayer:y,fnPlayerStopClose:m,fnFF:v,fnFR:w}=F();return T(()=>{y()}),(V,k)=>(r(),S(X,null,[o("audio",{ref_key:"audioPlayer",ref:a},null,512),e(W,{modelValue:s(l),"onUpdate:modelValue":k[3]||(k[3]=Q=>K(l)?l.value=Q:null),seamless:"",position:"bottom"},{default:t(()=>[o("div",ge,[h(e(b,{style:{position:"absolute",top:"20px",right:"15px","z-index":"2"},round:"",size:"xs",icon:"close",color:"red-10",onClick:k[0]||(k[0]=Q=>s(a).pause())},null,512),[[ue]]),e(H,{class:"player"},{default:t(()=>[e(J,{class:"row no-wrap justify-between"},{default:t(()=>{var Q;return[o("div",xe,[e(ie,{"show-value":"",value:(Q=s(i))!=null?Q:100,size:"30px",thickness:.2,color:"primary","center-color":"white","track-color":"transparent"},{default:t(()=>[e(c,{name:"play_arrow",color:"primary",size:"sm"})]),_:1},8,["value"]),o("div",ke,j(s(x).name),1)]),o("div",null,[e(b,{flat:"",round:"",icon:"fast_rewind",color:"grey",onClick:s(w)},null,8,["onClick"]),s(n)?(r(),d(b,{key:0,flat:"",round:"",icon:"pause",color:"yellow-8",onClick:k[1]||(k[1]=I=>s(a).pause())})):(r(),d(b,{key:1,flat:"",round:"",icon:"play_arrow",color:"primary",onClick:k[2]||(k[2]=I=>s(a).play())})),e(b,{flat:"",round:"",icon:"fast_forward",color:"grey",onClick:s(v)},null,8,["onClick"])])]}),_:1})]),_:1})])]),_:1},8,["modelValue"])],64))}};var he=G(be,[["__scopeId","data-v-a0bef0e0"]]);const $e={class:"btn row no-wrap items-center"},Ce=o("div",null,"\uBC29\uC1A1",-1),Qe={__name:"BroadcastMenu",setup(p){const a=A();return(l,n)=>(r(),S("div",null,[o("div",$e,[Ce,e(c,{name:"keyboard_arrow_down"}),e(B,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(M,null,{default:t(()=>[h((r(),d($,{clickable:"",onClick:n[0]||(n[0]=i=>s(a).push("/broadcast/live"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"mic",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u("\uC2E4\uC2DC\uAC04 \uBC29\uC1A1")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uBC14\uB85C \uBC29\uC1A1\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]]),h((r(),d($,{clickable:"",onClick:n[1]||(n[1]=i=>s(a).push("/broadcast/schedule"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"schedule",color:"green-10"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u("\uC608\uC57D \uBC29\uC1A1")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uBC29\uC1A1\uC744 \uC608\uC57D\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]]),h((r(),d($,{clickable:"",onClick:n[2]||(n[2]=i=>s(a).push("/broadcast/files"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"folder_open",color:"yellow-9"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u("\uD30C\uC77C \uAD00\uB9AC")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uBC29\uC1A1\uC5D0 \uC0AC\uC6A9\uD560 \uD30C\uC77C\uC744 \uAD00\uB9AC\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]])]),_:1})]),_:1})])]))}},qe={class:"btn row no-wrap items-center"},Se=o("div",null,"\uC7A5\uCE58\uAD00\uB9AC",-1),ze={__name:"DeviceMenu",setup(p){const a=A();return(l,n)=>(r(),S("div",null,[o("div",qe,[Se,e(c,{name:"keyboard_arrow_down"}),e(B,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(M,null,{default:t(()=>[h((r(),d($,{clickable:"",onClick:n[0]||(n[0]=i=>s(a).push("/devices/qsys"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"img:qsys.svg",size:"sm"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u("\uC5C5\uBB34\uBC29\uC1A1\uC8FC\uC7A5\uCE58")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uB514\uBC14\uC774\uC2A4 \uB4F1\uB85D & \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]]),h((r(),d($,{clickable:"",onClick:n[1]||(n[1]=i=>s(a).push("/devices/barix"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"img:barix.svg",size:"xs"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u(" \uB124\uD2B8\uC6CC\uD06C \uC624\uB514\uC624 \uC218\uC2E0\uAE30 ")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uB514\uBC14\uC774\uC2A4 \uB4F1\uB85D & \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]])]),_:1})]),_:1})])]))}},Ae={class:"btn row no-wrap items-center"},je=o("div",null,"\uAD00\uB9AC\uC790",-1),Be={__name:"AdminMenu",setup(p){const a=A();return(l,n)=>(r(),S("div",null,[o("div",Ae,[je,e(c,{name:"keyboard_arrow_down"}),e(B,{style:{width:"280px","border-radius":"10px",border:"1px solid #fff"},offset:[100,20]},{default:t(()=>[e(M,null,{default:t(()=>[h((r(),d($,{clickable:"",onClick:n[0]||(n[0]=i=>s(a).push("/admin/users"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"group",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u("\uC0AC\uC6A9\uC790 \uAD00\uB9AC")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uC0AC\uC6A9\uC790 \uAD8C\uD55C\uC744 \uC218\uC815\uD569\uB2C8\uB2E4")]),_:1})]),_:1})]),_:1})),[[C]]),h((r(),d($,{clickable:"",onClick:n[1]||(n[1]=i=>s(a).push("/admin/settings"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"dns",color:"lime-8"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u(" \uC11C\uBC84 \uC124\uC815 ")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uC11C\uBC84 \uC0C1\uC138 \uC124\uC815")]),_:1})]),_:1})]),_:1})),[[C]]),h((r(),d($,{clickable:"",onClick:n[2]||(n[2]=i=>s(a).push("/admin/logs"))},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e(c,{name:"list_alt",color:"green-9"})]),_:1}),e(_,null,{default:t(()=>[e(f,{class:"menu-font"},{default:t(()=>[u(" \uC2DC\uC2A4\uD15C \uB85C\uADF8 ")]),_:1}),e(f,{caption:""},{default:t(()=>[u("\uC2DC\uC2A4\uD15C \uB85C\uADF8 \uD655\uC778")]),_:1})]),_:1})]),_:1})),[[C]])]),_:1})]),_:1})])]))}};const Ie={class:"row no-wrap items-center q-gutter-x-lg"},Me={__name:"MenuBar",setup(p){const a=A(),{user:l}=g(z());return(n,i)=>(r(),S("div",Ie,[o("div",{class:"btn cursor-pointer",onClick:i[0]||(i[0]=x=>s(a).push("/status"))},"\uBC29\uC1A1\uC0C1\uD0DC"),s(l)?(r(),d(Qe,{key:0})):q("",!0),o("div",{class:"btn cursor-pointer",onClick:i[1]||(i[1]=x=>s(a).push("/broadcast/logs"))}," \uBC29\uC1A1\uAE30\uB85D "),s(l)&&s(l).isAdmin?(r(),d(ze,{key:1})):q("",!0),s(l)&&s(l).isAdmin?(r(),d(Be,{key:2})):q("",!0)]))}};var Pe=G(Me,[["__scopeId","data-v-b86d9c0e"]]);const Le={__name:"qsys",setup(p){const{user:a}=g(z()),{gStatus:l}=g(P());return(n,i)=>s(a)&&s(a).isAdmin&&!s(l).qsysConnected?(r(),d(L,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:t(()=>[e(c,{name:"warning",size:"sm"}),u(" \uC5C5\uBB34 \uBC29\uC1A1 \uC8FC\uC7A5\uCE58 \uC811\uC18D\uC774 \uB04A\uACBC\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694. ")]),_:1})):q("",!0)}},Ve={__name:"barix",setup(p){const{user:a}=g(z()),{barixApp:l}=g(P());return(n,i)=>s(a)&&s(a).isAdmin&&s(l)?(r(),d(L,{key:0,"inline-actions":"",class:"text-white bg-red"},{default:t(()=>[e(c,{name:"warning",size:"sm"}),u(" \uB124\uD2B8\uC6CC\uD06C \uC804\uC1A1\uC7A5\uCE58 \uC0C1\uD0DC\uAC00 \uAC31\uC2E0 \uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uB124\uD2B8\uC6CC\uD06C \uC0C1\uD0DC\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694. ")]),_:1})):q("",!0)}},De={__name:"scheduler",setup(p){const{user:a}=g(z()),{mainScheduler:l,backupScheduler:n}=g(P()),i=N(()=>!a.value||!a.value.isAdmin?!1:!!(l.value&&n.value));return(x,y)=>i.value?(r(),d(L,{key:0,"inline-actions":"",class:"text-white bg-orange"},{default:t(()=>[e(c,{name:"warning",size:"sm"}),u(" \uC2A4\uCF00\uC904\uB7EC\uAC00 \uBAA8\uB450 \uB3D9\uC791\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4. \uAD00\uB9AC\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC138\uC694. ")]),_:1})):q("",!0)}},Fe={class:"full-height row no-wrap justify-between items-center"},Re=o("div",{class:"logo_text"},"\uC5C5\uBB34\uBC29\uC1A1",-1),Ne={class:"row justify-end"},Ue={key:1},Te={class:"bg-white text-black q-px-lg q-pb-md"},Ge={class:"row justify-end items-center q-gutter-x-sm q-px-sm"},Oe=o("div",null,"\uD55C\uAD6D\uC218\uB825\uC6D0\uC790\uB825 \uC5C5\uBB34\uBC29\uC1A1",-1),st={__name:"MainLayout",setup(p){const a=R(),l=A(),{user:n}=g(z()),{qsys:i}=g(D()),x=Y({});return Z(x,(y,m)=>{const{name:v,zones:w,devices:V}=y;i.value.filter(Q=>{for(const I of V)return Q.deviceId===I.deviceId}).length>0&&a.notify({message:'<div><q-icon name="info"></q-icon>\uC2A4\uCF00\uC904 \uBC29\uC1A1\uC774 \uC2DC\uC791\uB418\uC5C8\uC2B5\uB2C8\uB2E4.</div>',caption:`<div><strong>\uC81C\uBAA9: </strong><span>${v!=null?v:""}</span></div><div><strong>\uC9C0\uC5ED: </strong><span>${w.join(", ")}</span></div>`,type:"info",position:"top-right",multiLine:!0,html:!0,timeout:15e3,actions:[{icon:"close",round:!0,color:"white",size:"xs"}]})}),T(async()=>{try{ee(),te.on("schedule",y=>{x.value=y}),i.value.length===0&&await D().fnGetQsys(),n.value&&n.value.isAdmin&&await de().fnGetBarix()}catch(y){console.error(y)}}),(y,m)=>{const v=se("router-view");return r(),d(le,{view:"lHh Lpr lFf"},{default:t(()=>[e(ae,{class:"header"},{default:t(()=>[o("div",Fe,[o("div",{class:"row no-wrap items-center q-gutter-x-md cursor-pointer",onClick:m[0]||(m[0]=w=>s(l).push("/"))},[e(c,{name:"img:logoMain.svg",size:"3rem"}),Re]),e(Pe,{class:"absolute-center q-ml-lg"}),o("div",Ne,[s(n)&&s(n).email?(r(),d(we,{key:0,user:s(n)},null,8,["user"])):(r(),S("div",Ue,[e(c,{class:"cursor-pointer",name:"account_circle",size:"sm",color:"primary",onClick:m[1]||(m[1]=w=>s(l).push("/auth/signin"))},{default:t(()=>[e(ne,null,{default:t(()=>[u("LOGIN")]),_:1})]),_:1})]))])])]),_:1}),e(oe,null,{default:t(()=>[o("div",Te,[e(U),o("div",Ge,[e(c,{name:"img:logoMain.svg",size:"1.5rem"}),Oe])])]),_:1}),e(re,null,{default:t(()=>[e(Le),e(Ve),e(De),e(v),e(he)]),_:1})]),_:1})}}};export{st as default};

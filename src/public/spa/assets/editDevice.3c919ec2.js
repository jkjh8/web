import{ay as V,k as C,y as p,z as f,A as r,j as d,N as q,O as g,B as n,P as k,C as U,D as t,aU as o,J as x,az as _,K as b,R as w,aX as Q,o as R}from"./index.15dfea7e.js";import{Q as P}from"./QForm.1a5aa1c9.js";import{r as u,e as $}from"./useRules.471ccca6.js";function z(i=16){const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";let s="";for(let c=0;c<i;c++)s+=v[parseInt(Math.random()*v.length)];return s}const B={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},A={class:"q-px-sm q-gutter-y-xs"},j={__name:"addDevice",props:["title","type"],emits:[...V.emits],setup(i,{emit:v}){const s=i,{dialogRef:c,onDialogCancel:I,onDialogOK:D}=V(),a=C({name:"",deviceId:z(12),ipaddress:"",port:3030,amx:""}),m=async y=>{try{return(await Q.get(`/devices/${s.type}/exists`,{params:{value:y}})).data.result?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return(y,e)=>(p(),f(w,{ref_key:"dialogRef",ref:c},{default:r(()=>[d(q,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:r(()=>[d(g,null,{default:r(()=>[n("div",B,[d(k,{name:"add_circle",color:"primary",size:"sm"}),n("div",null,U(i.title),1)])]),_:1}),d(P,{onSubmit:e[6]||(e[6]=l=>t(D)(a))},{default:r(()=>[d(g,null,{default:r(()=>[n("div",A,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[t(u)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[2]||(e[2]=l=>a.deviceId=l),filled:"",dense:"",label:"Device ID",rules:[t(u),l=>m({deviceId:l})],"lazy-rules":""},{append:r(()=>[d(k,{class:"cursor-pointer",name:"refresh",color:"primary",onClick:e[1]||(e[1]=l=>a.deviceId=t(z)(12))})]),_:1},8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[3]||(e[3]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[t(u),t($),l=>m({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),i.type==="barix"?(p(),f(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[4]||(e[4]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[t(u)],"lazy-rules":""},null,8,["modelValue","rules"])):x("",!0),i.type==="qsys"?(p(),f(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[5]||(e[5]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>m({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):x("",!0)])]),_:1}),d(_,{align:"right"},{default:r(()=>[d(b,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:t(I)},null,8,["onClick"]),d(b,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}},N={class:"dialog-name row no-wrap items-center q-gutter-x-sm"},S=n("div",{class:"text-caption"},"DeviceID\uB294 \uC218\uC815\uC544 \uC548\uB429\uB2C8\uB2E4.",-1),K={class:"q-px-sm q-gutter-y-xs"},F={__name:"editDevice",props:["title","type","device"],emits:[...V.emits],setup(i,{emit:v}){const s=i,{dialogRef:c,onDialogCancel:I,onDialogOK:D}=V(),a=C({_id:"",deviceId:"",name:"",deviceId:z(12),ipaddress:"",port:0,amx:""}),m=async y=>{try{const e=await Q.get(`/devices/${s.type}/exists`,{params:{value:y}});return e.data&&e.data.result&&e.data.result._id!==s.device._id?"\uC774\uBBF8 \uC0AC\uC6A9\uC911 \uC785\uB2C8\uB2E4.":!0}catch{return"\uC11C\uBC84 \uC624\uB958, \uC7A0\uC2DC\uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574\uC8FC\uC138\uC694."}};return R(()=>{a._id=s.device._id,a.deviceId=s.device.deviceId,a.name=s.device.name,a.ipaddress=s.device.ipaddress,a.deviceId=s.device.deviceId,a.amx=s.device.amx,a.port=s.device.port}),(y,e)=>(p(),f(w,{ref_key:"dialogRef",ref:c},{default:r(()=>[d(q,{class:"q-dialog-plugin bg-trans",style:{"border-radius":"8px"}},{default:r(()=>[d(g,null,{default:r(()=>[n("div",N,[d(k,{name:"edit",color:"primary",size:"sm"}),n("div",null,[n("div",null,U(i.title),1),S])])]),_:1}),d(P,{onSubmit:e[5]||(e[5]=l=>t(D)(a))},{default:r(()=>[d(g,null,{default:r(()=>[n("div",K,[d(o,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),filled:"",dense:"",label:"\uC774\uB984",rules:[t(u)],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.deviceId,"onUpdate:modelValue":e[1]||(e[1]=l=>a.deviceId=l),disable:"",filled:"",dense:"",label:"Device ID",rules:[t(u),l=>m({deviceId:l})],"lazy-rules":""},null,8,["modelValue","rules"]),d(o,{modelValue:a.ipaddress,"onUpdate:modelValue":e[2]||(e[2]=l=>a.ipaddress=l),filled:"",dense:"",label:"IP Address",rules:[t(u),t($),l=>m({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"]),i.type==="barix"?(p(),f(o,{key:0,modelValue:a.port,"onUpdate:modelValue":e[3]||(e[3]=l=>a.port=l),filled:"",dense:"",label:"Port",type:"number",rules:[t(u)],"lazy-rules":""},null,8,["modelValue","rules"])):x("",!0),i.type==="qsys"?(p(),f(o,{key:1,modelValue:a.amx,"onUpdate:modelValue":e[4]||(e[4]=l=>a.amx=l),filled:"",dense:"",label:"\uD1B5\uD569\uC81C\uC5B4 \uC8FC\uC7A5\uCE58",rules:[l=>m({ipaddress:l})],"lazy-rules":""},null,8,["modelValue","rules"])):x("",!0)])]),_:1}),d(_,{align:"right"},{default:r(()=>[d(b,{round:"",flat:"",color:"red-10",icon:"cancel",onClick:t(I)},null,8,["onClick"]),d(b,{round:"",flat:"","no-caps":"",color:"primary",icon:"check_circle",type:"submit"})]),_:1})]),_:1})]),_:1})]),_:1},512))}};export{j as _,F as a};

import{G as L,H as P,I as S,J as I,K as N,z as M,L as V,o as a,d as x,w as p,f as s,l as o,e as t,j as u,u as _,m as d,M as c,k as q,p as f,t as g,N as C,O as z,P as E,R as K,Q as R,E as B,s as D,h as F,a as j,S as A,U as H}from"./index.55b3bbb2.js";import{Q as h}from"./QMenu.8a5978a6.js";import{Q as O,a as T,b as U}from"./QLayout.b61b4e36.js";import{Q as G}from"./QLinearProgress.fc14e763.js";import{Q as J}from"./QSpace.ceb46d53.js";import{u as W}from"./use-quasar.b13b0874.js";import{_ as X}from"./dialogConfirm.93f2a88e.js";import{f as Y,a as k,m as b,p as Z,b as ee,c as te,d as oe,e as se}from"./usePlayer.2f6e5bf2.js";import{_ as ne}from"./plugin-vue_export-helper.21dcd24c.js";function Q(r){if(r===!1)return 0;if(r===!0||r===void 0)return 1;const n=parseInt(r,10);return isNaN(n)?0:n}var m=L({name:"close-popup",beforeMount(r,{value:n}){const v={depth:Q(n),handler(y){v.depth!==0&&setTimeout(()=>{const w=P(r);w!==void 0&&S(w,y,v.depth)})},handlerKey(y){I(y,13)===!0&&v.handler(y)}};r.__qclosepopup=v,r.addEventListener("click",v.handler),r.addEventListener("keyup",v.handlerKey)},updated(r,{value:n,oldValue:v}){n!==v&&(r.__qclosepopup.depth=Q(n))},beforeUnmount(r){const n=r.__qclosepopup;r.removeEventListener("click",n.handler),r.removeEventListener("keyup",n.handlerKey),delete r.__qclosepopup}});const l=r=>(A("data-v-238ae0bc"),r=r(),H(),r),re={class:"full-height row no-wrap justify-between items-center"},ae=l(()=>o("div",{class:"logo_text"},"\uD55C\uAD6D\uC218\uB825\uC6D0\uC790\uB825 \uC5C5\uBB34\uBC29\uC1A1",-1)),ie={class:"row no-wrap items-center q-gutter-x-sm"},le={key:0,class:"btn cursor-pointer"},de=l(()=>o("span",null,"\uBC29\uC1A1",-1)),pe=l(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),ue=l(()=>o("div",null,"\uB77C\uC774\uBE0C \uBC29\uC1A1",-1)),ce=l(()=>o("div",null,"\uC608\uC57D \uBC29\uC1A1",-1)),me=l(()=>o("div",null,"\uBC29\uC1A1 \uC124\uC815",-1)),ve=l(()=>o("div",null,"\uD30C\uC77C \uAD00\uB9AC",-1)),_e=l(()=>o("div",null,"\uC774\uBCA4\uD2B8 \uB85C\uADF8",-1)),fe={key:1,class:"btn cursor-pointer"},ye=l(()=>o("span",null,"\uC7A5\uCE58\uAD00\uB9AC",-1)),we=l(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),xe=l(()=>o("div",null,"\uC5C5\uBB34\uBC29\uC1A1 \uC8FC\uC7A5\uCE58",-1)),ge=l(()=>o("div",null,"\uB124\uD2B8\uC6CC\uD06C \uC218\uC2E0\uAE30",-1)),he={key:2,class:"btn cursor-pointer"},ke=l(()=>o("span",null,"\uAD00\uB9AC\uC790",-1)),qe=l(()=>o("span",{class:"q-ml-xs down-icon"},"\u25BC",-1)),be=l(()=>o("div",null,"\uC0AC\uC6A9\uC790 \uAD00\uB9AC",-1)),Ce=l(()=>o("div",null,"\uC11C\uBC84 \uC124\uC815",-1)),Qe=l(()=>o("div",null,"\uC2DC\uC2A4\uD15C \uB85C\uADF8",-1)),$e={style:{"font-size":"0.9rem","padding-top":"2px","font-family":"RotoSansKR","font-weight":"bold"}},Le={class:"q-pt-md q-gutter-y-sm"},Pe={class:"row justify-center q-gutter-x-sm"},Se={class:"q-mt-lg q-px-lg"},Ie={class:"row no-wrap justify-center"},Ne={__name:"MainLayout",setup(r){const n=N(),v=W(),y=async()=>{v.dialog({component:X,componentProps:{icon:"warning",iconColor:"yellow-8",title:"\uC0AC\uC6A9\uC790 \uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).onOk(async()=>{try{await j.get("/auth/signout"),_.value=null,n.push("/")}catch(w){console.error(w)}})};return M(()=>{Y()}),(w,e)=>{const $=V("router-view");return a(),x(U,{view:"lHh Lpr lFf"},{default:p(()=>[s(O,{class:"header","height-hint":"3rem"},{default:p(()=>[o("div",re,[o("div",{class:"row no-wrap items-center q-gutter-x-sm cursor-pointer",onClick:e[0]||(e[0]=i=>t(n).push("/"))},[s(u,{name:"home",size:"1.5rem",color:"primary"}),ae]),o("div",ie,[o("div",{class:"btn cursor-pointer",onClick:e[1]||(e[1]=i=>t(n).push("/status"))},"\uBC29\uC1A1\uC0C1\uD0DC"),t(_)?(a(),d("div",le,[de,pe,s(h,{style:{width:"130px"},offset:[20,10]},{default:p(()=>[c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[2]||(e[2]=i=>t(n).push("/broadcast/livepage"))},[s(u,{name:"mic",color:"primary"}),ue])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[3]||(e[3]=i=>t(n).push("/broadcast/schedulepage"))},[s(u,{name:"schedule",color:"primary"}),ce])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[4]||(e[4]=i=>t(n).push("/broadcast/zonesetup"))},[s(u,{name:"edit",color:"primary"}),me])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[5]||(e[5]=i=>t(n).push("/broadcast/files"))},[s(u,{name:"folder_open",color:"primary"}),ve])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[6]||(e[6]=i=>t(n).push("/broadcast/eventlog"))},[s(u,{name:"list_alt",color:"primary"}),_e])),[[m]])]),_:1})])):q("",!0),t(_)?(a(),d("div",fe,[ye,we,s(h,{style:{width:"150px"},offset:[20,10]},{default:p(()=>[c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[7]||(e[7]=i=>t(n).push("/devices/qsys"))},[s(u,{name:"img:qsys.svg",color:"primary"}),xe])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[8]||(e[8]=i=>t(n).push("/devices/barix"))},[s(u,{name:"img:barix.svg",color:"primary"}),ge])),[[m]])]),_:1})])):q("",!0),t(_)&&t(_).isAdmin?(a(),d("div",he,[ke,qe,s(h,{style:{width:"130px"},offset:[20,10]},{default:p(()=>[c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[9]||(e[9]=i=>t(n).push("/admin/users"))},[s(u,{name:"group",color:"primary"}),be])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[10]||(e[10]=i=>t(n).push("/admin/serversetup"))},[s(u,{name:"dns",color:"primary"}),Ce])),[[m]]),c((a(),d("div",{class:"row no-wrap items-center q-px-md q-gutter-x-md btn",onClick:e[11]||(e[11]=i=>t(n).push("/admin/systemlog"))},[s(u,{name:"list_alt",color:"primary"}),Qe])),[[m]])]),_:1})])):q("",!0),o("div",null,[t(_)&&t(_).email?(a(),x(f,{key:0,unelevated:"",round:"",size:"xs",color:"primary"},{default:p(()=>[o("div",$e,g(t(C)()),1),s(h,{style:{"border-radius":"8px",padding:"10px 20px"},offset:[10,20]},{default:p(()=>[o("div",Le,[o("div",Pe,[s(z,{color:"primary",textColor:"white",size:"64px"},{default:p(()=>[E(g(t(C)()),1)]),_:1})]),o("div",Se,g(t(_).email),1),s(K,{class:"q-my-md"}),o("div",Ie,[s(f,{rounded:"",unelevated:"","no-caps":"",color:"red-10",label:"\uB85C\uADF8\uC544\uC6C3",onClick:y})])])]),_:1})]),_:1})):(a(),d("div",{key:1,class:"btn-login",onClick:e[12]||(e[12]=i=>t(n).push("/auth/signin"))},"Login"))])])])]),_:1}),s(T,null,{default:p(()=>[s($),o("audio",{ref_key:"audioPlayer",ref:k},null,512),s(R,{modelValue:t(b),"onUpdate:modelValue":e[16]||(e[16]=i=>B(b)?b.value=i:null),seamless:"",position:"bottom"},{default:p(()=>[s(D,{style:{width:"400px"}},{default:p(()=>[s(G,{value:t(Z),color:"primary"},null,8,["value"]),s(F,{class:"row no-wrap items-center"},{default:p(()=>[o("div",null,[o("div",null,g(t(ee).name),1)]),s(J),s(f,{flat:"",round:"",icon:"fast_rewind",color:"grey",onClick:t(te)},null,8,["onClick"]),t(oe)?(a(),x(f,{key:0,flat:"",round:"",icon:"pause",color:"yellow-8",onClick:e[13]||(e[13]=i=>t(k).pause())})):(a(),x(f,{key:1,flat:"",round:"",icon:"play_arrow",color:"primary",onClick:e[14]||(e[14]=i=>t(k).play())})),s(f,{flat:"",round:"",icon:"fast_forward",color:"grey",onClick:t(se)},null,8,["onClick"]),c(s(f,{flat:"",round:"",icon:"close",onClick:e[15]||(e[15]=i=>t(k).pause())},null,512),[[m]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};var je=ne(Ne,[["__scopeId","data-v-238ae0bc"]]);export{je as default};
